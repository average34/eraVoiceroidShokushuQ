;通常の会話イベント
;ARG:0	対象キャラ
@MINIGAME_PENALTY(ARG:0)
;LOCAL
;0	LOOP

;5-6	HP低下
;7-8	MP低下
;9		CP低下
;10		寄生

LOCAL:3 = RAND:9
	SELECTCASE LOCAL:3
		CASE 0
			CALL PRINT_MESSAGE(ARG:0, 440, 8, CALLNAME:(ARG:0), "")
			FOR LOCAL:0, 0, 10
				TFLAG:63 = 1
				LOCAL:1 = RAND:3
				CALL DAMAGE_COMMON(ARG:0, 2, 30*(LOCAL:1+10) * (TALENT:(ARG:0):(101+TFLAG:63) + 2), 5)
			NEXT
			LOCAL:2 = 0
			CALL PRINT_MESSAGE(ARG:0, 440, 5, CALLNAME:(ARG:0), "")
			CALL PRINT_MESSAGE(ARG:0, 440, 9, CALLNAME:(ARG:0), "")
			IF TALENT:(ARG:0):76 == 0
				TALENT:(ARG:0):76 = 1
			ELSEIF TALENT:(ARG:0):102 <= 2
				TALENT:(ARG:0):102 += 1
			ENDIF
			CALL PRINT_MESSAGE(ARG:0, 440, 6, CALLNAME:(ARG:0), "")
		CASE 1
			TFLAG:63 = 1
			CALL PRINT_MESSAGE((ARG:0), 200, 147, CALLNAME:(ARG:0), "")
			LOCAL:5 = CALC_SENSITIVITY((ARG:0), TFLAG:63, LOCAL:1)
			IF TALENT:(ARG:0):130
				CALL DAMAGE_COMMON((ARG:0), 2, LOCAL:5 * 15 * (TALENT:(ARG:0):102 + 2) * (TALENT:(ARG:0):76 + 1), 1500);◆
			ELSE
				CALL DAMAGE_COMMON((ARG:0), 2, LOCAL:5 * 7 * (TALENT:(ARG:0):102 + 2) * (TALENT:(ARG:0):76 + 1), 500);◆
			ENDIF
			IF RAND:2 == 0
				PRINTFORML %CALLNAME:(ARG:0)%は淫蟲の体液を浴びて【発情】し始めた！
				CALL PRINT_MESSAGE((ARG:0), 200, 148, CALLNAME:(ARG:0), "", 2)
				IF CFLAG:(ARG:0):28 < 3
					CFLAG:(ARG:0):28 += 1
				ENDIF
			ENDIF
			IF RAND:4 == 0 && TALENT:(ARG:0):102 <= 2
				PRINTFORML %CALLNAME:(ARG:0)%の身体の様子がおかしい。どうやら、淫蟲の体液によって体質が書き換えられてしまったようだ…
				CALL WAIT_AUTOMODE(400, 0)

				PRINTFORML %CALLNAME:(ARG:0)%の胸が少し敏感になった
				CALL WAIT_AUTOMODE(400, 0)

				TALENT:1:102 += 1
			ENDIF
			PRINTFORML %CALLNAME:(ARG:0)%の胸を散々犯し抜いた淫蟲達は、そのままどこかへ去って行った…
			CALL WAIT_AUTOMODE(400, 0)

		CASE 2
			PRINTFORML 「ありがとう！　ちょっと触らせてね！」
			CALL WAIT_AUTOMODE(400, 0)

			PRINTFORML そう言って触手生物は突然%CALLNAME:(ARG:0)%を触手で絡め取った！
			CALL WAIT_AUTOMODE(400, 0)
			CALL PRINT_MESSAGE(ARG:0, 200, 142, CALLNAME:(ARG:0), "", 2, 1)
			CALL EXTASY(ARG:0, 1, 900, 400)
			CALL EXTASY(ARG:0, 1, 900, 400)
			CALL EXTASY(ARG:0, 1, 900, 400)
			CALL EXTASY(ARG:0, 1, 900, 400)
			CALL EXTASY(ARG:0, 1, 900, 400)
			PRINTFORML 　
			PRINTFORML ……
			CALL WAIT_AUTOMODE(400, 0)

			PRINTFORML …………
			CALL WAIT_AUTOMODE(400, 0)

			PRINTFORML 触手生物の責めが終わったとき、%CALLNAME:(ARG:0)%は恍惚の表情を浮かべ、\@ BASE:(ARG:0):3 <= 0 ? 激しく # 服の上から \@自分の胸を揉みしだいていた…
			CALL WAIT_AUTOMODE(400, 0)
			IF TALENT:(ARG:0):74 == 0 || TALENT:(ARG:0):76 == 0
				PRINTFORML %CALLNAME:(ARG:0)%は触手の責めに屈し、胸での快楽に溺れてしまった
				CALL WAIT_AUTOMODE(400, 0)

			ENDIF
			IF TALENT:(ARG:0):74 == 0
				PRINTFORML %CALLNAME:(ARG:0)%は【%TALENTNAME:74%】を得た
				CALL WAIT_AUTOMODE(400, 0)

				TALENT:(ARG:0):74 = 1
			ENDIF
			IF TALENT:(ARG:0):76 == 0
				PRINTFORML %CALLNAME:(ARG:0)%は【%TALENTNAME:76%】を得た
				CALL WAIT_AUTOMODE(400, 0)

				TALENT:(ARG:0):76 = 1
			ENDIF
			PRINTFORML 　
			CALL WAIT_AUTOMODE(400, 0)

			PRINTFORML 「……ふぅ、ちょっとやり過ぎちゃったかな？」
			CALL WAIT_AUTOMODE(400, 0)

		CASE 3
			PRINTFORML 無数の触手が%CALLNAME:(ARG:0)%を絡め取る！
			CALL PRINT_MESSAGE(ARG:0, 200, 160, CALLNAME:1, "", 4, 1)
			CFLAG:(ARG:0):5 -= 15 + RAND:15
			 
			CALL PRINT_MESSAGE(ARG:0, 200, 160, CALLNAME:1, "", 5, 4)
			FOR LOCAL:0, 0, 20
				TFLAG:63 = 1
				LOCAL:5 = RAND:5
				CALL DAMAGE_COMMON(ARG:0, 2, 30*(LOCAL:5+10)* (TALENT:(ARG:0):(101+TFLAG:63) + 2), 50)
			NEXT
			PRINTFORML 触手から開放された%CALLNAME:(ARG:0)%は手足を放り出し、息も絶え絶えで震えている…
			CALL WAIT_AUTOMODE(400, 0)

		CASE 4
			CALL PRINT_MESSAGE(ARG:0, 200, 160, CALLNAME:1, "", 10, 0)
			CFLAG:(ARG:0):506 = 0
			PRINTFORML 　
			PRINTFORML ……
			CALL WAIT_AUTOMODE(400, 0)

			PRINTFORML 触手から開放された%CALLNAME:(ARG:0)%は手足を放り出し、力なく震えている…
			CALL WAIT_AUTOMODE(400, 0)

			CALL PRINT_MESSAGE(ARG:0, 200, 160, CALLNAME:1, "", 10, 1)
		CASE 5
			CALL PRINT_MESSAGE(ARG:0, 444, 1, CALLNAME:(ARG:0), "")
			FOR LOCAL:0, 0, 7
				TFLAG:63 = 1
				LOCAL:3 = RAND:3
				CALL DAMAGE_COMMON(ARG:0, 2, 30*(LOCAL:1+10) * (TALENT:(ARG:0):(101+TFLAG:63) + 2), 5)
			NEXT
			LOCAL:2 = 0
		CASE 6
			CALL PRINT_MESSAGE(ARG:0, 444, 2, CALLNAME:(ARG:0), "")
			IF TALENT:(ARG:0):130 < 6
				CALL MILK_COME(ARG:0, 1, 1)
				LOCAL:6 = RESULT:0
				CALL PRINT_MESSAGE(ARG:0, 444, 3, CALLNAME:(ARG:0), "")
				CALL MILK_ADJUST(ARG:0, LOCAL:6)
			ELSE
				CALL PRINT_MESSAGE(ARG:0, 444, 4, CALLNAME:(ARG:0), "")
				FOR LOCAL:0, 0, 7
					TFLAG:63 = 1
					LOCAL:3 = RAND:3
					CALL DAMAGE_COMMON(ARG:0, 2, 30*(LOCAL:1+10) * (TALENT:(ARG:0):(101+TFLAG:63) + 2), 5)
				NEXT
			ENDIF
		CASE 7
			CALL PRINT_MESSAGE(ARG:0, 444, 5, CALLNAME:(ARG:0), "")
			IF FLAG:521 == 1
				;豊乳化OFF設定なら無効
			ELSEIF FLAG:521 == 3 && TALENT:(ARG:0):122 > 0
				;男の娘のみOFF設定かつ男の娘なら無効
			ELSE
				;絶壁
				IF GET_BUST(ARG:0) <= -2
					SIF LOCAL:1
						CALL PRINT_MESSAGE(ARG:0, 427, 5, CALLNAME:(ARG:0), "")
					CALL ADD_BUST(ARG:0,1,2)
				;貧乳～爆乳
				ELSEIF GET_BUST(ARG:0) >= -1 && GET_BUST(ARG:0) <= 2
					SIF LOCAL:1
						CALL PRINT_MESSAGE(ARG:0, 427, (GET_BUST(ARG:0) + 1), CALLNAME:(ARG:0), "")
					CALL ADD_BUST(ARG:0,1,2)
				;超乳(追加)
				ELSEIF GET_BUST(ARG:0) == 3
					SIF LOCAL:1
						CALL PRINT_MESSAGE(ARG:0, 427, 6, CALLNAME:(ARG:0), "")
					;超乳が8より小さければ育つ
					SIF TALENT:(ARG:0):158 < 8
						CALL ADD_BUST(ARG:0,1,2)
					FOR LOCAL:0, 0, 7
						TFLAG:63 = 1
						LOCAL:3 = RAND:3
						CALL DAMAGE_COMMON(ARG:0, 2, 30*(LOCAL:1+10) * (TALENT:(ARG:0):(101+TFLAG:63) + 2), 5)
					NEXT
				ELSE
					CALL PRINT_MESSAGE(ARG:0, 443, 6, CALLNAME:(ARG:0), "")
					FOR LOCAL:0, 0, 7
						TFLAG:63 = 1
						LOCAL:3 = RAND:3
						CALL DAMAGE_COMMON(ARG:0, 2, 30*(LOCAL:1+10) * (TALENT:(ARG:0):(101+TFLAG:63) + 2), 5)
					NEXT
				ENDIF
			ENDIF
		CASE 8
			CALL PRINT_MESSAGE(ARG:0, 441, 3, CALLNAME:(ARG:0), "")
			FOR LOCAL:0, 0, 7
				TFLAG:63 = 1
				LOCAL:1 = RAND:3
				CALL DAMAGE_COMMON(ARG:0, 2, 30*(LOCAL:1+10) * (TALENT:(ARG:0):(101+TFLAG:63) + 2), 5)
			NEXT
			LOCAL:2 = 0
			CALL ADD_ABL_EXP(11, ARG:0, 20)
			CALL PRINT_MESSAGE(ARG:0, 441, 4, CALLNAME:(ARG:0), "")

	ENDSELECT

