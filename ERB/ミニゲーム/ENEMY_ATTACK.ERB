;擬似的に敵の攻撃を再現する関数
;ARG:0のキャラにDA:(LOCAL:2):0 = ARG:2の敵がARG:1番の攻撃

;ARG:0	対象キャラ
;ARG:1	攻撃番号
;ARG:2	呼び出す敵の番号
@ENEMY_ATTACK(ARG:0,ARG:1,ARG:2)
;LOCAL
;0	LOOP

;10		ARG:0保存
;20		敵の数保存

LOCAL:10 = ARG:0
TFLAG:50 = ARG:1
LOCAL:20 = FLAG:1

;敵データ取得
TRYCCALLFORM SET_ENEMY_DATA_{ARG:2}(LOCAL:20)
CATCH
ENDCATCH
DA:(LOCAL:20):51 = LOCAL:10

;攻撃データ取得
TRYCCALLFORM FIX_ENEMY_ACTION_{TFLAG:50}(LOCAL:20)
CATCH
	PRINTFORML 存在しない攻撃番号です
ENDCATCH

CALL FIX_BATTLE_ACTION
FOR LOCAL:0, 0, VARSIZE("DA", 1)
	DA:(LOCAL:20):(LOCAL:0) = 0
NEXT
VARSET TFLAG, 0, 50, 100
CFLAG:10 = 0

