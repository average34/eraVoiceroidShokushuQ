;関係ランキング★この関数は　まだ　りばーす用に調整してない。
;敵による攻撃に使用 ID:1312、幻覚
;ARG:0	だれ ARG:1　今回のゲームでのキャラＮＯ
@KANKEI_RANK(ARG:0, ARG:1)
;LOCAL
;0	LOOP










;数値
LOCAL:11 = 0
LOCAL:12 = 0
LOCAL:13 = 0
LOCAL:14 = 0

;名前
LOCAL:21 = 0
LOCAL:22 = 0
LOCAL:23 = 0
LOCAL:24 = 0

;カウント
LOCAL:30 = 0
;何人まで保存するか
LOCAL:31 = 5


;RELATION:(ARG:0):(LOCAL:0)



FOR LOCAL:0, 1, FLAG:2

	IF RELATION:(ARG:1):((LOCAL:0)) > LOCAL:11

		LOCAL:13 = LOCAL:12
		LOCAL:12 = LOCAL:11
		LOCAL:11 = RELATION:(ARG:1):((LOCAL:0))

		LOCAL:23 = LOCAL:22
		LOCAL:22 = LOCAL:21
		LOCAL:21 = (LOCAL:0)
	ELSEIF RELATION:(ARG:1):((LOCAL:0)) > LOCAL:12 && RELATION:(ARG:1):((LOCAL:0)) < LOCAL:11

		LOCAL:13 = LOCAL:12
		LOCAL:12 = RELATION:(ARG:1):((LOCAL:0))

		LOCAL:23 = LOCAL:22
		LOCAL:22 = (LOCAL:0)
	ELSEIF RELATION:(ARG:1):((LOCAL:0)) > LOCAL:13 && RELATION:(ARG:1):((LOCAL:0)) < LOCAL:12

		LOCAL:13 = RELATION:(ARG:1):((LOCAL:0))

		LOCAL:23 = (LOCAL:0)


	ENDIF

NEXT





	FOR LOCAL:0, 1, FLAG:2

		IF RELATION:(ARG:1):((LOCAL:0)) == LOCAL:11 && LOCAL:30 < LOCAL:31 && RELATION:(ARG:1):((LOCAL:0)) > 0
			;PRINTL 
			;PRINTL 一位！！
			;PRINTFORML %CALLNAME:((LOCAL:0)),14,LEFT%　関係：{RELATION:(ARG:1):((LOCAL:0))}

			LOCAL:30 += 1
			CFLAG:(ARG:1):(650 + LOCAL:30) = (LOCAL:0)


		ENDIF

	NEXT


	FOR LOCAL:0, 1, FLAG:2

		IF RELATION:(ARG:1):((LOCAL:0)) == LOCAL:12 && LOCAL:30 < LOCAL:31 && RELATION:(ARG:1):((LOCAL:0)) > 0
			;PRINTL 
			;PRINTL 二位！
			;PRINTFORML %CALLNAME:((LOCAL:0)),14,LEFT%　関係：{RELATION:(ARG:1):((LOCAL:0))}

			LOCAL:30 += 1
			CFLAG:(ARG:1):(650 + LOCAL:30) = (LOCAL:0)

		ENDIF

	NEXT




	FOR LOCAL:0, 1, FLAG:2

		IF RELATION:(ARG:1):((LOCAL:0)) == LOCAL:13 && RELATION:(ARG:1):((LOCAL:0)) > 0 && LOCAL:30 < LOCAL:31

			;PRINTL 
			;PRINTL 三位
			;PRINTFORML %CALLNAME:((LOCAL:0)),14,LEFT%　関係：{RELATION:(ARG:1):((LOCAL:0))}

			LOCAL:30 += 1
			CFLAG:(ARG:1):(650 + LOCAL:30) = (LOCAL:0)

		ENDIF

	NEXT




IF CFLAG:(ARG:1):651 < 1

	CFLAG:(ARG:1):651 = 1

ENDIF

FOR LOCAL:0, 1, 6

	IF CFLAG:(ARG:1):(650 + LOCAL:0) < 1
		CFLAG:(ARG:1):(650 + LOCAL:0) = CFLAG:(ARG:1):651
	ENDIF

NEXT












	;FOR LOCAL:0, 1, CHARANUM

;		IF RELATION:(ARG:0):(LOCAL:0) == LOCAL:14

;			PRINTL 
;			PRINTL ぺけ…
;			PRINTFORML %CALLNAME:(LOCAL:0),14,LEFT%　魅力：{RELATION:(ARG:0):(LOCAL:0)}　活躍：{CFLAG:(LOCAL:0):408}　勤勉：{CFLAG:(LOCAL:0):402}　疲労：{CFLAG:(LOCAL:0):403}　トラブル：{CFLAG:(LOCAL:0):404}
;		ENDIF

;	NEXT



	WAIT


