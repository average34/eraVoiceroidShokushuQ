
;回復アイテム一覧表示（非戦闘中）
@SHOW_HEAL_ITEM_LIST
;LOCALリスト
;0	ループ用
;1～所持フラグ
;50	使ったアイテム
;51	使った対象

;初期化
FOR LOCAL, 1, 24
	LOCAL:(LOCAL) = 0
NEXT

REDRAW 0
DRAWLINE
PRINTFORML 使用するアイテムを選んでください　　回復アイテム
DRAWLINE

IF ITEM:50 > 0
	LOCAL:1 = 1
	PRINTFORML [ 1] %ITEMNAME:50, 20, LEFT%  {ITEM:50}/6個   一人のHPを50％回復
ELSE
	SETCOLOR 0x333333
	PRINTFORML [ 1] －－－
	RESETCOLOR
ENDIF
IF ITEM:51 > 0
	LOCAL:2 = 1
	PRINTFORML [ 2] %ITEMNAME:51, 20, LEFT%  {ITEM:51}/3個   一人のHPを100％回復
ELSE
	SETCOLOR 0x333333
	PRINTFORML [ 2] －－－
	RESETCOLOR
ENDIF
IF ITEM:52 > 0
	LOCAL:3 = 1
	PRINTFORML [ 3] %ITEMNAME:52, 20, LEFT%  {ITEM:52}/6個   一人のMPを25％回復 【鼓舞】で非戦闘中の効果増
ELSE
	SETCOLOR 0x333333
	PRINTFORML [ 3] －－－
	RESETCOLOR
ENDIF
IF ITEM:53 > 0
	LOCAL:4 = 1
	PRINTFORML [ 4] %ITEMNAME:53, 20, LEFT%  {ITEM:53}/3個   一人のMPを50％回復 【鼓舞】で非戦闘中の効果増
ELSE
	SETCOLOR 0x333333
	PRINTFORML [ 4] －－－
	RESETCOLOR
ENDIF
IF ITEM:54 > 0
	LOCAL:5 = 1
	PRINTFORML [ 5] %ITEMNAME:54, 20, LEFT%  {ITEM:54}/9個   一人のCPを100％回復 また残りCPに応じて汚れを回復
ELSE
	SETCOLOR 0x333333
	PRINTFORML [ 5] －－－
	RESETCOLOR
ENDIF
IF ITEM:55 > 0
	LOCAL:6 = 1
	PRINTFORML [ 6] %ITEMNAME:55, 20, LEFT%  {ITEM:55}/9個   一人のEPを100％回復し、TPを0にする 非戦闘中に初期の双成も治せる
ELSE
	SETCOLOR 0x333333
	PRINTFORML [ 6] －－－
	RESETCOLOR
ENDIF
IF ITEM:56 > 0
	LOCAL:7 = 1
	PRINTFORML [ 7] %ITEMNAME:56, 20, LEFT%  {ITEM:56}/9個   一人をTP200にするが性欲が増強される
ELSE
	SETCOLOR 0x333333
	PRINTFORML [ 7] －－－
	RESETCOLOR
ENDIF
IF ITEM:57 > 0
	LOCAL:8 = 1
	PRINTFORML [ 8] %ITEMNAME:57, 20, LEFT%  {ITEM:57}/9個   一人の拘束・発情・妊娠・触手服・戦意喪失以外の状態異常を治癒する
ELSE
	SETCOLOR 0x333333
	PRINTFORML [ 8] －－－
	RESETCOLOR
ENDIF
IF ITEM:58 > 0
	LOCAL:9 = 1
	PRINTFORML [ 9] %ITEMNAME:58, 20, LEFT%  {ITEM:58}/6個   一人の戦意喪失を治療し、MPを25％回復 【治療】で非戦闘中の効果増
ELSE
	SETCOLOR 0x333333
	PRINTFORML [ 9] －－－
	RESETCOLOR
ENDIF
IF ITEM:59 > 0
	LOCAL:10 = 1
	PRINTFORML [10] %ITEMNAME:59, 20, LEFT%  {ITEM:59}/9個   戦闘から必ず逃げられる(拘束された仲間は除く)
ELSE
	SETCOLOR 0x333333
	PRINTFORML [10] －－－
	RESETCOLOR
ENDIF
IF ITEM:60 > 0
	LOCAL:11 = 1
	PRINTFORML [11] %ITEMNAME:60, 20, LEFT%  {ITEM:60}個   非戦闘中に自慰ができる　何度でも使用可能
ELSE
	SETCOLOR 0x333333
	PRINTFORML [11] －－－
	RESETCOLOR
ENDIF
IF ITEM:61 > 0
	LOCAL:12 = 1
	PRINTFORML [12] %ITEMNAME:61, 20, LEFT%  {ITEM:61}個   一人の最大HPを+300する
ELSE
	SETCOLOR 0x333333
	PRINTFORML [12] －－－
	RESETCOLOR
ENDIF
IF ITEM:62 > 0
	LOCAL:13 = 1
	PRINTFORML [13] %ITEMNAME:62, 20, LEFT%  {ITEM:62}個   一人の戦闘素質を+10する
ELSE
	SETCOLOR 0x333333
	PRINTFORML [13] －－－
	RESETCOLOR
ENDIF
IF ITEM:63 > 0
	LOCAL:14 = 1
	PRINTFORML [14] %ITEMNAME:63, 20, LEFT%  {ITEM:63}個   一人の速度を+10する
ELSE
	SETCOLOR 0x333333
	PRINTFORML [14] －－－
	RESETCOLOR
ENDIF
IF ITEM:64 > 0
	LOCAL:15 = 1
	PRINTFORML [15] %ITEMNAME:64, 20, LEFT%  {ITEM:64}個   一度だけ全滅しても全回復する　持っているだけで効果あり
ELSE
	SETCOLOR 0x333333
	PRINTFORML [15] －－－
	RESETCOLOR
ENDIF
IF ITEM:65 > 0
	LOCAL:16 = 1
	PRINTFORML [16] %ITEMNAME:65, 20, LEFT%  {ITEM:65}個   非戦闘中に深い睡眠をとって回復する　何度でも使用可能
ELSE
	SETCOLOR 0x333333
	PRINTFORML [16] －－－
	RESETCOLOR
ENDIF
IF ITEM:69 > 0
	LOCAL:17 = 1
	PRINTFORML [17] %ITEMNAME:69, 20, LEFT%  {ITEM:69}個   非戦闘中に胸を小さくする　母乳で胸が膨らむのも治せる
ELSE
	SETCOLOR 0x333333
	PRINTFORML [17] －－－
	RESETCOLOR
ENDIF
IF ITEM:66 > 0
	LOCAL:18 = 1
	PRINTFORML [18] %ITEMNAME:66, 20, LEFT%  {ITEM:66}/9個   非戦闘中にトイレをすることができる
ELSE
	SETCOLOR 0x333333
	PRINTFORML [18] －－－
	RESETCOLOR
ENDIF
IF ITEM:67 > 0
	LOCAL:19 = 1
	PRINTFORML [19] %ITEMNAME:67, 20, LEFT%  {ITEM:67}/9個   HPとCP、骨折、汚れを微回復　【治療】で骨折治療強化
ELSE
	SETCOLOR 0x333333
	PRINTFORML [19] －－－
	RESETCOLOR
ENDIF
IF ITEM:70 > 0
	LOCAL:21 = 1
	PRINTFORML [21] %ITEMNAME:70, 20, LEFT%  {ITEM:70}/1個   とってもオイシイ、ペット用の缶詰
ELSE
	SETCOLOR 0x333333
	PRINTFORML [21] －－－
	RESETCOLOR
ENDIF
IF ITEM:71 > 0
	LOCAL:22 = 1
	PRINTFORML [22] %ITEMNAME:71, 20, LEFT%  {ITEM:71}/3個   部屋を綺麗にしてくれる便利グッズ
ELSE
	SETCOLOR 0x333333
	PRINTFORML [22] －－－
	RESETCOLOR
ENDIF
IF ITEM:72 > 0
	LOCAL:23 = 1
	PRINTFORML [23] %ITEMNAME:72, 20, LEFT%  {ITEM:72}/1個   河童特製！　盗撮用ゴーグル
ELSE
	SETCOLOR 0x333333
	PRINTFORML [23] －－－
	RESETCOLOR
ENDIF
IF ITEM:73 > 0
	LOCAL:24 = 1
	PRINTFORML [24] %ITEMNAME:73, 20, LEFT%  {ITEM:73}/3個   非戦闘中にのみ使用可能　HP3000と侵食を回復　【治療】で強化
ELSE
	SETCOLOR 0x333333
	PRINTFORML [24] －－－
	RESETCOLOR
ENDIF
IF ITEM:74 > 0
	LOCAL:25 = 1
	PRINTFORML [25] %ITEMNAME:74, 20, LEFT%  {ITEM:74}/6個   股間に貼ることで寄生を防げる
ELSE
	SETCOLOR 0x333333
	PRINTFORML [25] －－－
	RESETCOLOR
ENDIF
IF ITEM:75 > 0
	LOCAL:26 = 1
	PRINTFORML [26] %ITEMNAME:75, 20, LEFT%  {ITEM:75}/6個   お腹に貼ることで産み付けられた卵を浄化できる
ELSE
	SETCOLOR 0x333333
	PRINTFORML [23] －－－
	RESETCOLOR
ENDIF
IF ITEM:76 > 0
	LOCAL:27 = 1
	PRINTFORML [27] %ITEMNAME:76, 20, LEFT%  {ITEM:76}/6個   胸に貼ることで母乳を一時的に止められる
ELSE
	SETCOLOR 0x333333
	PRINTFORML [27] －－－
	RESETCOLOR
ENDIF
IF ITEM:77 > 0
	LOCAL:28 = 1
	PRINTFORML [28] %ITEMNAME:77, 20, LEFT%  {ITEM:77}/6個   非戦闘中に使うことで排卵する
ELSE
	SETCOLOR 0x333333
	PRINTFORML [28] －－－
	RESETCOLOR
ENDIF
IF ITEM:78 > 0
	LOCAL:29 = 1
	PRINTFORML [29] %ITEMNAME:78, 20, LEFT%  {ITEM:78}/3個   ターン終了時に産卵する
ELSE
	SETCOLOR 0x333333
	PRINTFORML [29] －－－
	RESETCOLOR
ENDIF
PRINTL [ 0] 戻る
REDRAW 1

$INPUT_LOOP
INPUT

IF RESULT == 0
	RETURN
ELSEIF ((RESULT >= 1) && (RESULT <= 19) && (LOCAL:RESULT > 0)) || ((RESULT >= 21 && RESULT <= 29) && LOCAL:RESULT > 0)
	;RESULT退避
	LOCAL:50 = RESULT
	IF (LOCAL:50 != 10) && (LOCAL:50 != 15) && (LOCAL:50 != 16) && (LOCAL:50 != 22) && (LOCAL:50 != 23) 
		;対象を取るアイテムの場合、対象指定
		PRINTFORML 誰に使いますか？

		;PTメンバー表示
		CALL SELECT_PT_TARGET2(0)
		IF RESULT > 0
			LOCAL:51 = RESULT
		ELSE
			RETURN
		ENDIF
	
	;効果発動
	SELECTCASE LOCAL:50
		CASE 1
			IF CFLAG:(LOCAL:51):10 || CFLAG:(LOCAL:51):21
				PRINTFORMW %CALLNAME:(LOCAL:51)%には使用できません
				RESTART
			ENDIF
			CALL ADD_ITEM(50, -1, 0)
			CALL ADD_FEELING(LOCAL:51, 3)
			BASE:(LOCAL:51):0 += MAXBASE:(LOCAL:51):0 / 2
			IF BASE:(LOCAL:51):0 > MAXBASE:(LOCAL:51):0
				BASE:(LOCAL:51):0 = MAXBASE:(LOCAL:51):0
			ENDIF
			
			;尿意増加
			CALL ADD_BASE_NP(LOCAL:51,1+RAND:2)
			
			CALL PRINT_MESSAGE(LOCAL:51, 36, 50, CALLNAME:(LOCAL:51), "")
			WAIT
		CASE 2
			IF CFLAG:(LOCAL:51):10 || CFLAG:(LOCAL:51):21
				PRINTFORMW %CALLNAME:(LOCAL:51)%には使用できません
				RESTART
			ENDIF
			CALL ADD_ITEM(51, -1, 0)
			CALL ADD_FEELING(LOCAL:51, 5)
			BASE:(LOCAL:51):0 = MAXBASE:(LOCAL:51):0
			
			;尿意増加
			CALL ADD_BASE_NP(LOCAL:51,1+RAND:2)
			
			CALL PRINT_MESSAGE(LOCAL:51, 36, 51, CALLNAME:(LOCAL:51), "")
			WAIT
		CASE 3
			IF CFLAG:(LOCAL:51):10 || CFLAG:(LOCAL:51):21 || CFLAG:(LOCAL:51):29
				PRINTFORMW %CALLNAME:(LOCAL:51)%には使用できません
				RESTART
			ENDIF
			CALL ADD_ITEM(52, -1, 0)
			CALL ADD_FEELING(LOCAL:51, 5)
			BASE:(LOCAL:51):1 += MAXBASE:(LOCAL:51):1 / 4
			;【鼓舞】による効果増加　ただし発情・戦意喪失・寄生or妊娠末期は無理
			SIF (TALENT:1:118 && CFLAG:1:28 == 0 && CFLAG:1:29 == 0 && (CFLAG:1:22 == 0 || CFLAG:1:23 >= 5)) || (FLAG:10 && TALENT:(FLAG:10):118 && CFLAG:(FLAG:10):28 == 0 && CFLAG:(FLAG:10):29 == 0 && (CFLAG:(FLAG:10):22 == 0 || CFLAG:(FLAG:10):23 >= 5)) || (FLAG:11 && TALENT:(FLAG:11):118 && CFLAG:(FLAG:11):28 == 0 && CFLAG:(FLAG:11):29 == 0 && (CFLAG:(FLAG:11):22 == 0 || CFLAG:(FLAG:11):23 >= 5))
				BASE:(LOCAL:51):1 += MAXBASE:(LOCAL:51):1 / 8

			IF BASE:(LOCAL:51):1 > MAXBASE:(LOCAL:51):1
				BASE:(LOCAL:51):1 = MAXBASE:(LOCAL:51):1
			ENDIF
			
			;尿意増加
			CALL ADD_BASE_NP(LOCAL:51,3+RAND:2)
			
			;偽ポーション
			CALL NISESAKE(LOCAL:51)
			
			CALL PRINT_MESSAGE(LOCAL:51, 36, 52, CALLNAME:(LOCAL:51), "")
			WAIT
		CASE 4
			IF CFLAG:(LOCAL:51):10 || CFLAG:(LOCAL:51):21 || CFLAG:(LOCAL:51):29
				PRINTFORMW %CALLNAME:(LOCAL:51)%には使用できません
				RESTART
			ENDIF
			CALL ADD_ITEM(53, -1, 0)
			CALL ADD_FEELING(LOCAL:51, 10)
			BASE:(LOCAL:51):1 += MAXBASE:(LOCAL:51):1 / 2

			;【鼓舞】による効果増加　ただし発情・戦意喪失・寄生or妊娠末期は無理
			SIF (TALENT:1:118 && CFLAG:1:28 == 0 && CFLAG:1:29 == 0 && (CFLAG:1:22 == 0 || CFLAG:1:23 >= 5)) || (FLAG:10 && TALENT:(FLAG:10):118 && CFLAG:(FLAG:10):28 == 0 && CFLAG:(FLAG:10):29 == 0 && (CFLAG:(FLAG:10):22 == 0 || CFLAG:(FLAG:10):23 >= 5)) || (FLAG:11 && TALENT:(FLAG:11):118 && CFLAG:(FLAG:11):28 == 0 && CFLAG:(FLAG:11):29 == 0 && (CFLAG:(FLAG:11):22 == 0 || CFLAG:(FLAG:11):23 >= 5))
				BASE:(LOCAL:51):1 += MAXBASE:(LOCAL:51):1 / 4

			IF BASE:(LOCAL:51):1 > MAXBASE:(LOCAL:51):1
				BASE:(LOCAL:51):1 = MAXBASE:(LOCAL:51):1
			ENDIF
			;尿意増加
			CALL ADD_BASE_NP(LOCAL:51,3+RAND:2)
			
			;偽ポーション
			CALL NISESAKE(LOCAL:51)
			
			CALL PRINT_MESSAGE(LOCAL:51, 36, 53, CALLNAME:(LOCAL:51), "")
			WAIT
		CASE 5
			IF CFLAG:(LOCAL:51):10 || CFLAG:(LOCAL:51):21
				PRINTFORMW %CALLNAME:(LOCAL:51)%には使用できません
				RESTART
			ENDIF
			CALL ADD_ITEM(54, -1, 0)
			CALL ADD_FEELING(LOCAL:51, 5)
			;CPが残っていれば汚れも回復　残っているCP％の汚れが消える　小数以下切り捨てなので2行
			BASE:(LOCAL:51):5 *= (MAXBASE:(LOCAL:51):3 - BASE:(LOCAL:51):3) * 100 / MAXBASE:(LOCAL:51):3
			BASE:(LOCAL:51):5 /= 100
			SIF BASE:(LOCAL:51):3 >= MAXBASE:(LOCAL:51):3 / 2
				PRINTFORML 突然触手が襲いかかり%CALLNAME:(LOCAL:51)%が脱いだ服を奪い取っていった……
			BASE:(LOCAL:51):3 = MAXBASE:(LOCAL:51):3
			CFLAG:(LOCAL:51):44 = 0
			CALL CLOTH_TYPE_1(LOCAL:51)
			SIF CFLAG:(LOCAL:51):501 == 15
				CFLAG:(LOCAL:51):47 = 1
			;◆触手スーツ
			IF CFLAG:(LOCAL:51):40 == 1
				CALL PRINT_MESSAGE(LOCAL:51, 440,16, CALLNAME:(LOCAL:51), "")
			ELSE
				CALL PRINT_MESSAGE(LOCAL:51, 36, 54, CALLNAME:(LOCAL:51), "")
				;汚染度10以上、すでに触手服でない、なら汚染度に応じて　服装が触手服or貞操帯なら確定
				IF ((FLAG:(FLAG:5 + 50) + RAND:250) >= 200 && (FLAG:(FLAG:5 + 50)) > 10 && CFLAG:(LOCAL:51):40 == 0) || CFLAG:(LOCAL:51):501 == 15 || CFLAG:(LOCAL:51):501 == 22
					CALL SYOKUSYU_HUKU(LOCAL:51)
				ENDIF
			ENDIF
			;◆◆
			CALL FOOT_EQUIP_TYPE_1(LOCAL:51)
			WAIT
		CASE 6
			IF CFLAG:(LOCAL:51):10 || CFLAG:(LOCAL:51):21
				PRINTFORMW %CALLNAME:(LOCAL:51)%には使用できません
				RESTART
			ENDIF
			CALL ADD_ITEM(55, -1, 0)
			BASE:(LOCAL:51):2 = MAXBASE:(LOCAL:51):2
			BASE:(LOCAL:51):4 = 0
			
			;ふたなり外し
			IF CFLAG:(LOCAL:51):42 >= 1
				CFLAG:(LOCAL:51):42 = 0
			ENDIF

			CALL PRINT_MESSAGE(LOCAL:51, 36, 55, CALLNAME:(LOCAL:51), "")
			WAIT
		CASE 7
			IF CFLAG:(LOCAL:51):10 || CFLAG:(LOCAL:51):21
				PRINTFORMW %CALLNAME:(LOCAL:51)%には使用できません
				RESTART
			ENDIF
			CALL ADD_ITEM(56, -1, 0)
			;◆発情レベル
			IF CFLAG:(LOCAL:51):28 <= 0
				CFLAG:(LOCAL:51):28 = 1
			ELSEIF CFLAG:(LOCAL:51):28 < 5
				CFLAG:(LOCAL:51):28 += 1
			ENDIF
			;◆◆
			BASE:(LOCAL:51):4 = 200
			
			;ふたなり強化
			IF CFLAG:(LOCAL:51):42 >= 1
				CFLAG:(LOCAL:51):42 += 10
			ENDIF
			IF TALENT:(LOCAL:51):121 == 0 && ABL:(LOCAL:51):12 >= 3 
				TALENT:(LOCAL:51):121 = 1
			ENDIF
			CALL PRINT_MESSAGE(LOCAL:51, 36, 56, CALLNAME:(LOCAL:51), "")
			WAIT
		CASE 8
			IF CFLAG:(LOCAL:51):10 || CFLAG:(LOCAL:51):21
				PRINTFORMW %CALLNAME:(LOCAL:51)%には使用できません
				RESTART
			ENDIF
			CALL ADD_ITEM(57, -1, 0)
			CALL ADD_FEELING(LOCAL:51, 5)
			FOR LOCAL, 22, 35
				;薬で治せないものはスキップ
				SIF CFLAG:(LOCAL:51):36 && (LOCAL == 22 || LOCAL == 23)
					CONTINUE
				SIF LOCAL == 28 || LOCAL == 29
					CONTINUE
				CFLAG:(LOCAL:51):(LOCAL) = 0
			NEXT

			CFLAG:(LOCAL:51):80 -= 6

			SIF CFLAG:(LOCAL:51):80 < 0
				CFLAG:(LOCAL:51):80 = 0

			CFLAG:(LOCAL:51):151 = 0
			CFLAG:(LOCAL:51):152 = 0
			CFLAG:(LOCAL:51):161 = 0
			CFLAG:(LOCAL:51):162 = 0
			;尿意増加
			CALL ADD_BASE_NP(LOCAL:51,3+RAND:2)
			
			;*********避妊**************
			CFLAG:(LOCAL:51):70 = 4
			;***************************
			
			;偽ポーション
			SIF CFLAG:(LOCAL:51):29 <= 0
				CALL NISESAKE(LOCAL:51)
			
			CALL PRINT_MESSAGE(LOCAL:51, 36, 57, CALLNAME:(LOCAL:51), "")
			WAIT
		CASE 9
			IF CFLAG:(LOCAL:51):10 || CFLAG:(LOCAL:51):21
				PRINTFORMW %CALLNAME:(LOCAL:51)%には使用できません
				RESTART
			ENDIF
			CALL ADD_ITEM(58, -1, 0)
			CALL ADD_FEELING(LOCAL:51, 20)
			BASE:(LOCAL:51):1 += MAXBASE:(LOCAL:51):1 / 4

			;【治療】による効果増加　ただし発情・戦意喪失・寄生or妊娠末期は無理
			SIF (TALENT:1:117 && CFLAG:1:28 == 0 && CFLAG:1:29 == 0 && (CFLAG:1:22 == 0 || CFLAG:1:23 >= 5)) || (FLAG:10 && TALENT:(FLAG:10):117 && CFLAG:(FLAG:10):28 == 0 && CFLAG:(FLAG:10):29 == 0 && (CFLAG:(FLAG:10):22 == 0 || CFLAG:(FLAG:10):23 >= 5)) || (FLAG:11 && TALENT:(FLAG:11):117 && CFLAG:(FLAG:11):28 == 0 && CFLAG:(FLAG:11):29 == 0 && (CFLAG:(FLAG:11):22 == 0 || CFLAG:(FLAG:11):23 >= 5))
				BASE:(LOCAL:51):1 += MAXBASE:(LOCAL:51):1 / 4

			IF BASE:(LOCAL:51):1 > MAXBASE:(LOCAL:51):1
				BASE:(LOCAL:51):1 = MAXBASE:(LOCAL:51):1
			ENDIF
			CFLAG:(LOCAL:51):29 = 0
			CALL PRINT_MESSAGE(LOCAL:51, 36, 58, CALLNAME:(LOCAL:51), "")
			WAIT
		CASE 10
			PRINTFORMW このアイテムは戦闘中にしか使用できません
			RESTART
		CASE 11
			IF CFLAG:(LOCAL:51):10 || CFLAG:(LOCAL:51):21 || CFLAG:(LOCAL:51):29
				PRINTFORMW %CALLNAME:(LOCAL:51)%には使用できません
				RESTART
			ENDIF
			CALL MASTURBATION(LOCAL:51, 2, 100)
			;触手スーツ関係
			SIF CFLAG:(LOCAL:51):40 == 1
				CALL SYOKUSYUG(LOCAL:51)
			;ここまで触手スーツ
			WAIT
		CASE 12
			IF CFLAG:(LOCAL:51):10 || CFLAG:(LOCAL:51):21
				PRINTFORMW %CALLNAME:(LOCAL:51)%には使用できません
				RESTART
			ENDIF
			CALL ADD_ITEM(61, -1, 0)
			CALL ADD_FEELING(LOCAL:51, 10)
			BASE:(LOCAL:51):0 += 300
			MAXBASE:(LOCAL:51):0 += 300
			CALL PRINT_MESSAGE(LOCAL:51, 36, 61, CALLNAME:(LOCAL:51), "")
			WAIT
		CASE 13
			IF CFLAG:(LOCAL:51):10 || CFLAG:(LOCAL:51):21
				PRINTFORMW %CALLNAME:(LOCAL:51)%には使用できません
				RESTART
			ENDIF
			CALL ADD_ITEM(62, -1, 0)
			CALL ADD_FEELING(LOCAL:51, 10)
			ABL:(LOCAL:51):98 += 10
			CALL PRINT_MESSAGE(LOCAL:51, 36, 62, CALLNAME:(LOCAL:51), "")
			WAIT
		CASE 14
			IF CFLAG:(LOCAL:51):10 || CFLAG:(LOCAL:51):21
				PRINTFORMW %CALLNAME:(LOCAL:51)%には使用できません
				RESTART
			ENDIF
			CALL ADD_ITEM(63, -1, 0)
			CALL ADD_FEELING(LOCAL:51, 10)
			ABL:(LOCAL:51):97 += 10
			CALL PRINT_MESSAGE(LOCAL:51, 36, 63, CALLNAME:(LOCAL:51), "")
			WAIT
		CASE 15
			PRINTFORMW このアイテムは持っているだけで効果があります
			RESTART
		CASE 16
			PRINTFORMW %CALLNAME:1%%TACHI()%は深い眠りについた！
			;眠気を更に-1
			FLAG:7 -= 1
			CALL PRINT_MESSAGE(1, 36, 65, CALLNAME:1, "")
			CALL PRINT_MESSAGE(FLAG:10, 36, 65, CALLNAME:(FLAG:10), "")
			CALL PRINT_MESSAGE(FLAG:11, 36, 65, CALLNAME:(FLAG:11), "")
			CFLAG:1:11 = 4
			CFLAG:1:13 = FLAG:5
			CFLAG:1:14 = FLAG:5
			FLAG:8 = 3
			;追加の睡眠回復を得る
			CALL SLEEP_HEAL(1, 1)
			CALL SLEEP_HEAL(FLAG:10, 1)
			CALL SLEEP_HEAL(FLAG:11, 1)
			RETURN 1

		CASE 17
			IF CFLAG:(LOCAL:51):10 || CFLAG:(LOCAL:51):21
				PRINTFORMW %CALLNAME:(LOCAL:51)%には使用できません
				RESTART
			ENDIF
			CALL ADD_ITEM(69, -1, 0)
			CALL PRINT_MESSAGE(LOCAL:51, 36, 69, CALLNAME:(LOCAL:51), "")
			IF CFLAG:(LOCAL:51):506 > 40
				CFLAG:(LOCAL:51):506 -= 50
			ELSE
				CALL ADD_BUST(LOCAL:51,-1,1,69)
			ENDIF
			WAIT
		CASE 18
			IF CFLAG:(LOCAL:51):10 || CFLAG:(LOCAL:51):21 || CFLAG:(LOCAL:51):29
				PRINTFORMW %CALLNAME:(LOCAL:51)%には使用できません
				RESTART
			ELSEIF BASE:(LOCAL:51):6 <= 10 && CFLAG:(LOCAL:51):49 == 0
				PRINTFORMW %CALLNAME:(LOCAL:51)%は尿意が溜まっていなかった
				RESTART
			ELSE
				CALL ADD_ITEM(66, -1, 0)
				CFLAG:(LOCAL:51):49 = 0
				BASE:(LOCAL:51):6 = 0
				IF 90 >= RAND:100
					CALL PRINT_MESSAGE(LOCAL:51, 36, 66, CALLNAME:(LOCAL:51), "")
				ELSE
					CALL NISETOILET(LOCAL:51)
				ENDIF
			ENDIF
		CASE 19
			IF CFLAG:(LOCAL:51):10 || CFLAG:(LOCAL:51):21
				PRINTFORMW %CALLNAME:(LOCAL:51)%には使用できません
				RESTART
			ENDIF
			CALL ADD_ITEM(67, -1, 0)
			CALL ADD_FEELING(LOCAL:51, 5)
			BASE:(LOCAL:51):0 += MAXBASE:(LOCAL:51):0 / 10
			IF BASE:(LOCAL:51):3 < MAXBASE:(LOCAL:51):3 / 10
				CFLAG:(LOCAL:51):501 = 100
			ENDIF
			BASE:(LOCAL:51):3 += MAXBASE:(LOCAL:51):3 / 3
			IF BASE:(LOCAL:51):0 > MAXBASE:(LOCAL:51):0
				BASE:(LOCAL:51):0 = MAXBASE:(LOCAL:51):0
			ENDIF
			IF BASE:(LOCAL:51):3 > MAXBASE:(LOCAL:51):3
				BASE:(LOCAL:51):3 = MAXBASE:(LOCAL:51):3
			ENDIF
			;限界突破する
			BASE:(LOCAL:51):5 -= 40
			
			CALL PRINT_MESSAGE(LOCAL:51, 36, 67, CALLNAME:(LOCAL:51), "")
			;包帯触手化 数を使うので汚染度は20～触手化
			IF FLAG:(FLAG:5 + 50) > 20 && (FLAG:(FLAG:5 + 50) + RAND:250) >= 200 && CFLAG:(LOCAL:51):46 == 0
				CALL PRINT_MESSAGE(LOCAL:51, 508, 0, CALLNAME:(LOCAL:51), "")
				CFLAG:(LOCAL:51):46 = 1
			;骨折治療効果、触手化した場合は効果なし、更に折られるとか？
			ELSEIF CFLAG:(LOCAL:51):201 >= 1 && CFLAG:(LOCAL:51):46 == 0
				;【治療】による効果増加　ただし発情・戦意喪失・寄生or妊娠末期は無理
				IF (TALENT:1:117 && CFLAG:1:28 == 0 && CFLAG:1:29 == 0 && (CFLAG:1:22 == 0 || CFLAG:1:23 >= 5)) || (FLAG:10 && TALENT:(FLAG:10):117 && CFLAG:(FLAG:10):28 == 0 && CFLAG:(FLAG:10):29 == 0 && (CFLAG:(FLAG:10):22 == 0 || CFLAG:(FLAG:10):23 >= 5)) || (FLAG:11 && TALENT:(FLAG:11):117 && CFLAG:(FLAG:11):28 == 0 && CFLAG:(FLAG:11):29 == 0 && (CFLAG:(FLAG:11):22 == 0 || CFLAG:(FLAG:11):23 >= 5))
					CFLAG:(LOCAL:51):201 = 0
				ELSE
					CFLAG:(LOCAL:51):201 -= 1
				ENDIF
			ENDIF
			
		CASE 21
			CALL ADD_ITEM(70, -1, 0)
			BASE:(LOCAL:51):4 -= 50
			SIF BASE:(LOCAL:51):4 < 0
				BASE:(LOCAL:51):4 = 0
			CFLAG:(LOCAL:51):28 ++
			SIF CFLAG:(LOCAL:51):28 > 5
				CFLAG:(LOCAL:51):28 = 5
			CALL PRINT_MESSAGE(LOCAL:51, 36, 70, CALLNAME:(LOCAL:51), "")
		CASE 22
			CALL ADD_ITEM(71, -1, 0)
			FLAG:(50 + FLAG:5) = MAX(FLAG:(50 + FLAG:5) - 50, 0)
			CALL PRINT_MESSAGE(LOCAL:51, 36, 71, CALLNAME:(LOCAL:51), "")
		CASE 23
			CALL PRINT_MESSAGE(LOCAL:51, 36, 72, CALLNAME:(LOCAL:51), "")
			PRINTFORML どちらを覗き見ますか？
			PRINTFORML [1] 味方の位置
			PRINTFORML [2] 敵の位置
			PRINTFORML [0] やめる
			$INPUT_72
			INPUT
			IF RESULT < 0 && RESULT > 2
				GOTO INPUT_72
			ELSEIF RESULT == 0
				RETURN
			ELSEIF RESULT == 1
				CALL ADD_ITEM(72, -1, 0)
				DRAWLINE
				FOR LOCAL, 1, CHARANUM
					;59番の部屋は一時的に娘のデータを格納しているだけなので外す
					;31以降の部屋も一応外す
					IF CFLAG:LOCAL:4 > 30
						CONTINUE
					ELSE
						PRINTFORML %CALLNAME:LOCAL,15,LEFT% 居場所：{CFLAG:LOCAL:4}
					ENDIF
				NEXT
				DRAWLINE
				PRINTFORMW
			ELSEIF RESULT == 2
				CALL ADD_ITEM(72, -1, 0)
				DRAWLINE
				FOR LOCAL, 1, 99
					SIF DA:LOCAL:4
						PRINTFORML %SAVESTR:LOCAL,15,LEFT% 居場所：{DA:LOCAL:4}
				NEXT
				DRAWLINE
				PRINTFORMW
			ENDIF
		CASE 24
			IF CFLAG:(LOCAL:51):10 || CFLAG:(LOCAL:51):21 || (BASE:(LOCAL:51):0 >= MAXBASE:(LOCAL:51):0 && CFLAG:(LOCAL:51):80 <= 0)
				PRINTFORMW %CALLNAME:(LOCAL:51)%には使用できません
				RESTART
			ENDIF

			CALL ADD_ITEM(73, -1, 0)
			CALL ADD_FEELING(LOCAL:51, 4)

			BASE:(LOCAL:51):0 += 3000
			CFLAG:(LOCAL:51):80 -= 10

			;【治療】による効果増加　ただし発情・戦意喪失・寄生or妊娠末期は無理
			IF (TALENT:1:117 && CFLAG:1:28 == 0 && CFLAG:1:29 == 0 && (CFLAG:1:22 == 0 || CFLAG:1:23 >= 5)) || (FLAG:10 && TALENT:(FLAG:10):117 && CFLAG:(FLAG:10):28 == 0 && CFLAG:(FLAG:10):29 == 0 && (CFLAG:(FLAG:10):22 == 0 || CFLAG:(FLAG:10):23 >= 5)) || (FLAG:11 && TALENT:(FLAG:11):117 && CFLAG:(FLAG:11):28 == 0 && CFLAG:(FLAG:11):29 == 0 && (CFLAG:(FLAG:11):22 == 0 || CFLAG:(FLAG:11):23 >= 5))
				BASE:(LOCAL:51):0 = MAXBASE:(LOCAL:51):0
				CFLAG:(LOCAL:51):80 -= 5
			ENDIF

			IF BASE:(LOCAL:51):0 > MAXBASE:(LOCAL:51):0
				BASE:(LOCAL:51):0 = MAXBASE:(LOCAL:51):0
			ENDIF

			SIF CFLAG:(LOCAL:51):80 < 0
				CFLAG:(LOCAL:51):80 = 0

			CALL PRINT_MESSAGE(LOCAL:51, 36, 73, CALLNAME:(LOCAL:51), "")
			WAIT
		CASE 25
			CALL ADD_ITEM(74, -1, 0)
			CALL ADD_FEELING(LOCAL:51, 4)
			CFLAG:(LOCAL:51):153 += 3
			CALL PRINT_MESSAGE(LOCAL:51, 36, 74, CALLNAME:(LOCAL:51), "")
			WAIT
		CASE 26
			CALL ADD_ITEM(75, -1, 0)
			CALL ADD_FEELING(LOCAL:51, 4)
			CFLAG:(LOCAL:51):154 += 3
			CALL PRINT_MESSAGE(LOCAL:51, 36, 75, CALLNAME:(LOCAL:51), "")
			WAIT
		CASE 27
			CALL ADD_ITEM(76, -1, 0)
			CALL ADD_FEELING(LOCAL:51, 4)
			CFLAG:(LOCAL:51):155 += 3
			CALL PRINT_MESSAGE(LOCAL:51, 36, 76, CALLNAME:(LOCAL:51), "")
			WAIT
		CASE 28
			CALL ADD_ITEM(77, -1, 0)
			;好感度はよくも悪くもならない
			;一番危ない月経周期12日目になるようにする
			;@ESTRUS_CYCLE参照
			CFLAG:(LOCAL:51):150 = (DAY % 30) - 12
			SIF CFLAG:(LOCAL:51):150 < 0
				CFLAG:(LOCAL:51):150 += 30
			CALL PRINT_MESSAGE(LOCAL:51, 36, 77, CALLNAME:(LOCAL:51), "")
			WAIT
		CASE 29
			IF CFLAG:(LOCAL:51):152 == 0 && CFLAG:(LOCAL:51):162 == 0
				PRINTFORMW %CALLNAME:(LOCAL:51)%には使用できません
				RESTART
			ENDIF
			CALL ADD_ITEM(78, -1, 0)
			;好感度はよくも悪くもならない
			;産卵の残り時間を0に
			CFLAG:(LOCAL:51):152 = 0
			CFLAG:(LOCAL:51):162 = 0
			CALL PRINT_MESSAGE(LOCAL:51, 36, 78, CALLNAME:(LOCAL:51), "")
			WAIT
		CASEELSE
			PRINTFORMW IDエラー　不正なアイテムID{LOCAL:50}が指定されました
	ENDSELECT
ELSE
	REUSELASTLINE 入力値が不正です。再入力してください
	GOTO INPUT_LOOP
ENDIF

RESTART

;偽ポーション
;基本的にメッセージとM快感ダメージと屈服刻印入手のみ
@NISESAKE(ARG:0)
	CALL PRINT_MESSAGE(ARG:0, 502, 0, CALLNAME:(ARG:0), "")
SELECTCASE RAND:150
	CASE 0 TO 10
		CALL PRINT_MESSAGE(ARG:0, 502, 1, CALLNAME:(ARG:0), "")
		TFLAG:63 = 9
		CALL DAMAGE_COMMON(ARG:0, 2, 2000 + RAND:3000, 100)
	CASE 11 TO 20
		CALL PRINT_MESSAGE(ARG:0, 502, 2, CALLNAME:(ARG:0), "")
		TFLAG:63 = 9
		CALL DAMAGE_COMMON(ARG:0, 2, 2000 + RAND:3000, 100)
	CASE 21 TO 30
		IF ABL:(ARG:0):11
			CALL PRINT_MESSAGE(ARG:0, 502, 3, CALLNAME:(ARG:0), "")
			TFLAG:63 = 9
			CALL DAMAGE_COMMON(ARG:0, 2, 2000 + RAND:3000, 100)
			IF ABL:(ARG:0):11 + ABL:(ARG:0):14 > 2
				CALL GET_MARK(ARG:0, 18, 99)
			ENDIF
		ELSE
			CALL PRINT_MESSAGE(ARG:0, 502, 7, CALLNAME:(ARG:0), "")
		ENDIF
	CASE 31 TO 40
		CALL PRINT_MESSAGE(ARG:0, 502, 4, CALLNAME:(ARG:0), "")
		TFLAG:63 = 9
		CALL DAMAGE_COMMON(ARG:0, 2, 2000 + RAND:3000, 100)
		IF ABL:(ARG:0):11 + ABL:(ARG:0):14 > 2
			CALL GET_MARK(ARG:0, 18, 99)
		ENDIF
	CASE 41 TO 50
		IF ABL:(ARG:0):11
			CALL PRINT_MESSAGE(ARG:0, 502, 5, CALLNAME:(ARG:0), "")
			TFLAG:63 = 9
			CALL DAMAGE_COMMON(ARG:0, 2, 2000 + RAND:3000, 100)
			IF ABL:(ARG:0):11 + ABL:(ARG:0):14 > 2
				CALL GET_MARK(ARG:0, 18, 99)
			ENDIF
		ELSE
			CALL PRINT_MESSAGE(ARG:0, 502, 7, CALLNAME:(ARG:0), "")
		ENDIF
	CASE 51 TO 60
		CALL PRINT_MESSAGE(ARG:0, 502, 6, CALLNAME:(ARG:0), "")
		TFLAG:63 = 9
		CALL DAMAGE_COMMON(ARG:0, 2, 2000 + RAND:3000, 100)
		IF ABL:(ARG:0):11 + ABL:(ARG:0):14 > 2
			CALL GET_MARK(ARG:0, 18, 99)
		ENDIF
	CASE 61 TO 63
		CALL PRINT_MESSAGE(ARG:0, 502, 8, CALLNAME:(ARG:0), "")
		TFLAG:63 = 3
		CALL DAMAGE_COMMON(ARG:0, 2, 2000 + RAND:3001, 100)
		FLAG:7 = 15
	CASE 64 TO 66
		CALL PRINT_MESSAGE(ARG:0, 502, 9, CALLNAME:(ARG:0), "")
		TFLAG:63 = 0
		CALL DAMAGE_COMMON(ARG:0, 2, 2000 + RAND:3001, 100)
		FLAG:7 = 15
	CASEELSE
		CALL PRINT_MESSAGE(ARG:0, 502, 7, CALLNAME:(ARG:0), "")
	ENDSELECT

;携帯トイレ触手化
@NISETOILET(ARG:0)
		CALL PRINT_MESSAGE(ARG:0, 506,0, CALLNAME:(ARG:0), "")
		TFLAG:63 = 2
		CALL DAMAGE_COMMON(ARG:0, 2, 2000 + RAND:3001, 100)
		TFLAG:63 = 3
		CALL DAMAGE_COMMON(ARG:0, 2, 2000 + RAND:3001, 100)

;触手スーツ
@SYOKUSYU_HUKU(ARG:0)
;LOCALリスト
;0　ループ用
;1　ダメージ乱数
;2　悪あがきカウント
;3　貞操帯用分岐
;4　NF追加ダメージ
CALL PRINT_MESSAGE((ARG:0), 440, 0, CALLNAME:(ARG:0), "")
FOR LOCAL, 0, 15
	TFLAG:63 = RAND:4
	SIF TFLAG:63 == 3 && CFLAG:(ARG:0):47 == 1
		TFLAG:63 = 0
	LOCAL:1 = RAND:5
	LOCAL:2 = 0
	CALL DAMAGE_COMMON(ARG:0, 2, 30*(LOCAL:1+10) * (TALENT:(ARG:0):(101+TFLAG:63) + 2), 50)
NEXT

$INPUT_LOOP_WARUAGAKI_1

;喪失状態では悪あがきできない
IF CFLAG:(ARG:0):29 == 1
	CALL PRINT_MESSAGE((ARG:0), 440, 5, CALLNAME:(ARG:0), "")
	GOTO INPUT_LOOP_WARUAGAKI_END
ENDIF


CALL PRINT_MESSAGE((ARG:0), 440, 1, CALLNAME:(ARG:0), "")
$INPUT_LOOP_WARUAGAKI_2
PRINTFORML 　
PRINTFORML どうしますか？
PRINTFORML 　
PRINTL [0] 強引に引き剥がす！
PRINTL [1] 諦める
INPUT

IF RESULT == 0
	CALL PRINT_MESSAGE(ARG:0, 440, 2, CALLNAME:(ARG:0), "")
		FOR LOCAL, 0, 5
		TFLAG:63 = RAND:4
		LOCAL:1 = RAND:4
		CALL DAMAGE_COMMON(ARG:0, 2, 30*(LOCAL:1+10) * (TALENT:(ARG:0):(101+TFLAG:63) + 2), 10)
		NEXT
	CALL PRINT_MESSAGE(ARG:0, 440, 3, CALLNAME:(ARG:0), "")
	;悪あがきカウントが十分止まったら淫乱系素質をつけてストップ
	IF LOCAL:2 > RAND:3
		;◆淫乱素質コンプの真の淫乱にこそ淫乱の称号がなんたら　←　だったら、先頭に持ってきてやんよ
		IF TALENT:(ARG:0):75 == 1 && TALENT:(ARG:0):76 == 1 && TALENT:(ARG:0):77 == 1 && TALENT:(ARG:0):78 == 1 && TALENT:(ARG:0):74 == 0
			CALL PRINT_MESSAGE((ARG:0), 440, 17, CALLNAME:(ARG:0), "")
			FOR LOCAL, 0, 10
			TFLAG:63 = RAND:4
			LOCAL:1 = RAND:3
			CALL DAMAGE_COMMON(ARG:0, 2, 30*(LOCAL:1+10) * (TALENT:(ARG:0):(101+TFLAG:63) + 2) * (TALENT:(ARG:0):(75+TFLAG:63) + 1), 5)
			NEXT
			LOCAL:2 = 0
			CALL PRINT_MESSAGE((ARG:0), 440, 5, CALLNAME:(ARG:0), "")
			CALL PRINT_MESSAGE((ARG:0), 440, 18, CALLNAME:(ARG:0), "")
			TALENT:(ARG:0):74 = 1
			SIF TALENT:(ARG:0):101 <= 2
				TALENT:(ARG:0):101 += 1
			SIF TALENT:(ARG:0):102 <= 2
				TALENT:(ARG:0):102 += 1
			SIF TALENT:(ARG:0):103 <= 2
				TALENT:(ARG:0):103 += 1
			SIF TALENT:(ARG:0):104 <= 2
				TALENT:(ARG:0):104 += 1
			CALL PRINT_MESSAGE((ARG:0), 440, 6, CALLNAME:(ARG:0), "")
		ELSE
			;貞操帯だと分岐　VでなくAに
			LOCAL:3 = RAND:6 
			SIF LOCAL:3 == 0 && CFLAG:(ARG:0):47 == 1
				LOCAL:3 = 3
			SELECTCASE LOCAL:3
				CASE 0
					CALL PRINT_MESSAGE(ARG:0, 440, 12, CALLNAME:(ARG:0), "")
					FOR LOCAL, 0, 10
						TFLAG:63 = 3
						LOCAL:1 = RAND:3
						CALL DAMAGE_COMMON(ARG:0, 2, 30*(LOCAL:1+10) * (TALENT:(ARG:0):(101+TFLAG:63) + 2), 5)
					NEXT
					LOCAL:2 = 0
					CALL PRINT_MESSAGE(ARG:0, 440, 5, CALLNAME:(ARG:0), "")
					CALL PRINT_MESSAGE(ARG:0, 440, 13, CALLNAME:(ARG:0), "")
					IF TALENT:(ARG:0):78 == 0
						TALENT:(ARG:0):78 = 1
						CALL ADD_HISTORY(DAY, ARG:0, 3, 10)
					ELSEIF TALENT:(ARG:0):104 <= 2
						TALENT:(ARG:0):104 += 1
					ENDIF
					CALL PRINT_MESSAGE(ARG:0, 440, 6, CALLNAME:(ARG:0), "")
					
				CASE 1
					CALL PRINT_MESSAGE(ARG:0, 440, 8, CALLNAME:(ARG:0), "")
					;NF判定
					TRYCALL CALC_NIPPLE_FUCK(ARG:0, 1)
					IF RESULT == 1
						CALL PRINT_MESSAGE(ARG:0, 440, 21, CALLNAME:(ARG:0), "")
						;NF経験多めに＋する　拡張乳腺なしの場合は素質取得する条件を満たすようにNF経験数を追加
						IF TALENT:(ARG:0):162 == 0 && CFLAG:(ARG:0):512 < 5
							CFLAG:(ARG:0):512 += 7 - CFLAG:(ARG:0):512
						ELSE
							CFLAG:(ARG:0):512 += 3
						ENDIF
						LOCAL:4 = MAX(CALC_NF_DAMAGE(ARG:0, 2) / 4, 1)
					ENDIF
					FOR LOCAL, 0, 10
						TFLAG:63 = 1
						LOCAL:1 = RAND:3 + RAND:(MAX(LOCAL:4, 1))
						CALL DAMAGE_COMMON(ARG:0, 2, 30*(LOCAL:1+10) * (TALENT:(ARG:0):(101+TFLAG:63) + 2), 5)
					NEXT
					LOCAL:2 = 0
					CALL PRINT_MESSAGE(ARG:0, 440, 5, CALLNAME:(ARG:0), "")
					IF LOCAL:4 > 0
						CALL CHECK_NIPPLE_EXTEND(ARG:0)
						LOCAL:4 = 0
					ENDIF
					CALL PRINT_MESSAGE(ARG:0, 440, 9, CALLNAME:(ARG:0), "")
					IF TALENT:(ARG:0):76 == 0
						TALENT:(ARG:0):76 = 1
						CALL ADD_HISTORY(DAY, ARG:0, 1, 10)
					ELSEIF TALENT:(ARG:0):102 <= 2
						TALENT:(ARG:0):102 += 1
					ENDIF
					CALL PRINT_MESSAGE(ARG:0, 440, 6, CALLNAME:(ARG:0), "")
				CASE 2
					CALL PRINT_MESSAGE(ARG:0, 440, 10, CALLNAME:(ARG:0), "")
					FOR LOCAL, 0, 10
						TFLAG:63 = 2
						LOCAL:1 = RAND:3
						CALL DAMAGE_COMMON(ARG:0, 2, 30*(LOCAL:1+10) * (TALENT:(ARG:0):(101+TFLAG:63) + 2), 5)
					NEXT
					LOCAL:2 = 0
					CALL PRINT_MESSAGE(ARG:0, 440, 5, CALLNAME:(ARG:0), "")
					CALL PRINT_MESSAGE(ARG:0, 440, 11, CALLNAME:(ARG:0), "")
					IF TALENT:(ARG:0):77 == 0
						TALENT:(ARG:0):77 = 1
						CALL ADD_HISTORY(DAY, ARG:0, 2, 10)
					ELSEIF TALENT:(ARG:0):103 <= 2
						TALENT:(ARG:0):103 += 1
					ENDIF
					CALL PRINT_MESSAGE(ARG:0, 440, 6, CALLNAME:(ARG:0), "")
				CASE 3
					CALL PRINT_MESSAGE(ARG:0, 440, 4, CALLNAME:(ARG:0), "")
					FOR LOCAL, 0, 10
						TFLAG:63 = 0
						LOCAL:1 = RAND:3
						CALL DAMAGE_COMMON(ARG:0, 2, 30*(LOCAL:1+10) * (TALENT:(ARG:0):(101+TFLAG:63) + 2), 5)
					NEXT
					LOCAL:2 = 0
					CALL PRINT_MESSAGE(ARG:0, 440, 5, CALLNAME:(ARG:0), "")
					CALL PRINT_MESSAGE(ARG:0, 440, 7, CALLNAME:(ARG:0), "")
					IF TALENT:(ARG:0):75 == 0
						TALENT:(ARG:0):75 = 1
						CALL ADD_HISTORY(DAY, ARG:0, 0, 10)
					ELSEIF TALENT:(ARG:0):101 <= 2
						TALENT:(ARG:0):101 += 1
					ENDIF
					CALL PRINT_MESSAGE(ARG:0, 440, 6, CALLNAME:(ARG:0), "")
				CASE 4
					CALL PRINT_MESSAGE((ARG:0), 440, 17, CALLNAME:(ARG:0), "")
					FOR LOCAL, 0, 10
						TFLAG:63 = RAND:4
						LOCAL:1 = RAND:3
						CALL DAMAGE_COMMON(ARG:0, 2, 30*(LOCAL:1+10) * (TALENT:(ARG:0):(101+TFLAG:63) + 2) * (TALENT:(ARG:0):(75+TFLAG:63) + 1), 5)
					NEXT
					LOCAL:2 = 0
					CALL PRINT_MESSAGE((ARG:0), 440, 5, CALLNAME:(ARG:0), "")

					;淫乱素質コンプの真の淫乱にこそ淫乱の称号がなんたら
					IF TALENT:(ARG:0):75 == 1 && TALENT:(ARG:0):76 == 1 && TALENT:(ARG:0):77 == 1 && TALENT:(ARG:0):78 == 1
						CALL PRINT_MESSAGE((ARG:0), 440, 18, CALLNAME:(ARG:0), "")
						SIF TALENT:(ARG:0):74 == 0
							TALENT:(ARG:0):74 = 1
					ELSE
						CALL PRINT_MESSAGE((ARG:0), 440, 19, CALLNAME:(ARG:0), "")
					ENDIF
						SIF TALENT:(ARG:0):101 <= 2
							TALENT:(ARG:0):101 += 1
						SIF TALENT:(ARG:0):102 <= 2
							TALENT:(ARG:0):102 += 1
						SIF TALENT:(ARG:0):103 <= 2
							TALENT:(ARG:0):103 += 1
						SIF TALENT:(ARG:0):104 <= 2
							TALENT:(ARG:0):104 += 1
					CALL PRINT_MESSAGE((ARG:0), 440, 6, CALLNAME:(ARG:0), "")
				
				CASEELSE
					;戻り分岐 
					FOR LOCAL, 0, 5
						TFLAG:63 = RAND:4
						LOCAL:1 = RAND:4
						CALL DAMAGE_COMMON(ARG:0, 2, 30*(LOCAL:1+10)* (TALENT:(ARG:0):(101+TFLAG:63) + 2), 5)
					NEXT
					LOCAL:2 = 0
					GOTO INPUT_LOOP_WARUAGAKI_1
				ENDSELECT
			ENDIF
	ELSE
		FOR LOCAL, 0, 5
			TFLAG:63 = RAND:4
			LOCAL:1 = RAND:4
			CALL DAMAGE_COMMON(ARG:0, 2, 30*(LOCAL:1+10)* (TALENT:(ARG:0):(101+TFLAG:63) + 2), 10)
		NEXT
		LOCAL:2 += 1
		IF CFLAG:(ARG:0):29 == 0
			GOTO INPUT_LOOP_WARUAGAKI_1
		ELSE
			CALL PRINT_MESSAGE(ARG:0, 440, 5, CALLNAME:(ARG:0), "")
		ENDIF
	ENDIF

ELSEIF RESULT == 1
	CALL PRINT_MESSAGE(ARG:0, 440, 14, CALLNAME:(ARG:0), "")

ELSE
	GOTO INPUT_LOOP_WARUAGAKI_2
ENDIF

$INPUT_LOOP_WARUAGAKI_END

CALL PRINT_MESSAGE(ARG:0, 440, 15, CALLNAME:(ARG:0), "")

CALL ADD_ABL_EXP(11, ARG:0, 100)
CFLAG:(ARG:0):40 = 1
LOCAL:2 = 0


;触手スーツ自慰
@SYOKUSYUG(ARG:0)
;LOCALリスト
;0	ループ用
;2	部位
;3	ふたなり表示フラグ
SIF GET_PENIS(ARG:0)
	LOCAL:3 = 1
CALL PRINT_MESSAGE(ARG:0, 442, 0, CALLNAME:(ARG:0), "")
CALL EXTASY(ARG:0, RAND:4, 100, 100)
CALL PRINT_MESSAGE(ARG:0, 442, 1, CALLNAME:(ARG:0), "")
FOR LOCAL,0,10
	CALL EXTASY(ARG:0, RAND:4, RAND:50, 100)
NEXT
RESULT:0 = 0
SIF TALENT:(ARG:0):162 >= 4
	TRYCALL CALC_NIPPLE_FUCK(ARG:0, 6, 1)
IF RESULT:0 == 2
	CALL PRINT_MESSAGE(ARG:0, 442, 2, CALLNAME:(ARG:0), "", 1)
	CFLAG:(ARG:0):512 += 1
ELSE
	CALL PRINT_MESSAGE(ARG:0, 442, 2, CALLNAME:(ARG:0), "")
ENDIF
FOR LOCAL,0,10
	CALL EXTASY(ARG:0, RAND:4, RAND:50, 100)
NEXT
IF LOCAL:3 == 1
	CALL PRINT_MESSAGE(ARG:0, 442, 3, CALLNAME:(ARG:0), "")
		SIF RAND:10 <= 7
			CALL RANDOM_PARASITE((ARG:0), 1, 1)
ENDIF
CALL PRINT_MESSAGE(ARG:0, 442, 4, CALLNAME:(ARG:0), "")
CALL ADD_ABL_EXP(11, ARG:0, 100)
LOCAL:3 = 0


