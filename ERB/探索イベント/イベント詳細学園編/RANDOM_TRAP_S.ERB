;探索時のランダムイベントで発生するトラップ
@RANDOM_TRAP_S
;基本的に既存の何度も発生するトラップを流用
;学園用にメッセージなどを変更

SELECTCASE RAND:46
CASE 0 TO 1
	CALL CHECK_FIXED_EVENT_S_135
CASE 2 TO 3
	CALL CHECK_FIXED_EVENT_S_136
CASE 4 TO 6
	CALL CHECK_FIXED_EVENT_S_137
CASE 7 TO 9
	CALL CHECK_FIXED_EVENT_S_139
CASE 10 TO 11
	CALL CHECK_FIXED_EVENT_S_140
CASE 12 TO 13
	CALL CHECK_FIXED_EVENT_S_141
CASE 14 TO 15
	CALL CHECK_FIXED_EVENT_S_143
CASE 16 TO 17
	CALL CHECK_FIXED_EVENT_S_144
CASE 18 TO 19
	CALL CHECK_FIXED_EVENT_S_146
CASE 20 TO 21
	CALL CHECK_FIXED_EVENT_S_147
CASE 22 TO 23
	CALL CHECK_FIXED_EVENT_S_148
CASE 24 TO 25
	CALL CHECK_FIXED_EVENT_S_149
CASE 26 TO 27
	CALL CHECK_FIXED_EVENT_S_150
CASE 28 TO 30
	CALL CHECK_FIXED_EVENT_S_151
CASE 31 TO 32
	CALL CHECK_FIXED_EVENT_S_152
CASE 33 TO 34
	CALL CHECK_FIXED_EVENT_S_153
CASE 34 TO 35
	CALL CHECK_FIXED_EVENT_S_154
CASE 36 TO 37
	CALL CHECK_FIXED_EVENT_S_164
CASE 38 TO 39
	CALL CHECK_FIXED_EVENT_S_165
CASE 40 TO 41
	CALL CHECK_FIXED_EVENT_S_170
CASE 42 TO 43
	CALL CHECK_FIXED_EVENT_S_172
CASEELSE
	IF FLAG:4 > 1
		CALL CHECK_FIXED_EVENT_S_171
	ELSE
		CALL CHECK_FIXED_EVENT_S_135
	ENDIF
ENDSELECT
RETURN RESULT


;使い魔が勝手に発動させる罠
@RANDOM_TRAP_2_S


;罠の種類を減らす テレポートとか無理
SELECTCASE RAND:22
CASE 0 TO 1
	CALL CHECK_FIXED_EVENT_S_135
CASE 2 TO 3
	CALL CHECK_FIXED_EVENT_S_136
CASE 4 TO 5
	CALL CHECK_FIXED_EVENT_S_137
CASE 6 TO 7
	CALL CHECK_FIXED_EVENT_S_143
CASE 8 TO 9
	CALL CHECK_FIXED_EVENT_S_146
CASE 10 TO 11
	CALL CHECK_FIXED_EVENT_S_148
CASE 12 TO 13
	CALL CHECK_FIXED_EVENT_S_149
CASE 14 TO 15
	CALL CHECK_FIXED_EVENT_S_152
CASE 16 TO 17
	CALL CHECK_FIXED_EVENT_S_153
CASE 18 TO 19
	CALL CHECK_FIXED_EVENT_S_154
CASEELSE
	CALL CHECK_FIXED_EVENT_S_147
ENDSELECT

RETURN RESULT


;トラップモード　固定罠も含めてマイナス効果をランダムに出す
@RANDOM_TRAP_3_S


SELECTCASE RAND:35
CASE 0 TO 1
	CALL CHECK_FIXED_EVENT_S_135
CASE 2 TO 3
	CALL CHECK_FIXED_EVENT_S_136
CASE 4 TO 6
	CALL CHECK_FIXED_EVENT_S_137
CASE 7 TO 9
	CALL CHECK_FIXED_EVENT_S_139
CASE 10 TO 11
	CALL CHECK_FIXED_EVENT_S_144
CASE 12 TO 13
	CALL CHECK_FIXED_EVENT_S_146
CASE 14 TO 19
	CALL CHECK_FIXED_EVENT_S_147
CASE 20 TO 21
	CALL CHECK_FIXED_EVENT_S_148
CASE 22 TO 23
	CALL CHECK_FIXED_EVENT_S_149
CASE 24 TO 25
	CALL CHECK_FIXED_EVENT_S_150
CASE 26 TO 27
	CALL CHECK_FIXED_EVENT_S_152
CASE 28 TO 30
	CALL CHECK_FIXED_EVENT_S_153
CASE 31 TO 32
	CALL CHECK_FIXED_EVENT_S_154
CASEELSE
	CALL CHECK_FIXED_EVENT_S_177
ENDSELECT
