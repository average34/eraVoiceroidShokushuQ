;固定イベント
;RETURN	0:失敗した　1:成功した　2:以後のイベントスキップ
@CHECK_FIXED_EVENT_S_121
;LOCAL
;0	LOOP
;1	目標値
;2	達成値
;3	戻り値

LOCAL:3 = 0

;目標値（イベント難易度）決定
LOCAL:1 = 80


;達成値決定
CALL GET_SEARCH_RATE
LOCAL:2 = RESULT


IF LOCAL:2 >= LOCAL:1
	;何度も発生
	FLAG:121 = RAND:30 + 1
	
	SELECTCASE RAND:8
		CASE 0
			LOCAL:4 = 28
		CASE 1
			LOCAL:4 = 29
		CASE 2
			LOCAL:4 = 30
		CASE 3
			LOCAL:4 = 31
		CASE 4
			LOCAL:4 = 32
		CASE 5
			LOCAL:4 = 33
		CASE 6
			LOCAL:4 = 34
		CASEELSE
			LOCAL:4 = 35
	ENDSELECT
	CALL PRINT_MESSAGE(1, 113, LOCAL:4, CALLNAME:1, ITEMNAME:(LOCAL:4))
	CALL PRINT_MESSAGE(FLAG:10, 113, LOCAL:4, CALLNAME:1, ITEMNAME:(LOCAL:4))
	CALL PRINT_MESSAGE(FLAG:11, 113, LOCAL:4, CALLNAME:1, ITEMNAME:(LOCAL:4))
	CALL ADD_ABL_EXP_PT(0, 800)
	CALL ADD_ITEM(LOCAL:4, 1, 1)
	CALL WAIT_AUTOMODE(400, 0)
	LOCAL:3 = 1
ELSE
	;見つからなかった場合（通常は何もしない）
ENDIF

RETURN LOCAL:3

