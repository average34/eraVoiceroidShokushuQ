@FIX_ENEMY_ACTION_1040(ENEMY_ID)
#DIM ENEMY_ID

TFLAG:52 = ENEMY_ID
TFLAG:54 = DA:ENEMY_ID:51
TFLAG:55 = 3
TFLAG:60 = 1

TFLAG:57 = DA:ENEMY_ID:5

TFLAG:58 = 95
TFLAG:61 = 110

TFLAG:64 = 30
TFLAG:65 = 0

TFLAG:59 = 0
TFLAG:90 = 80
TFLAG:91 = 0
TFLAG:92 = 0
TFLAG:99 = 1040

TFLAG:63 = 9

CALL ACTION_FILTER(-1, 4, 1040, CALLNAME:(TFLAG:54), SAVESTR:ENEMY_ID, TFLAG:54, TFLAG:63)

@EXTRA_ACTION_1040(ENEMY_ID, CHARA_ID)
#DIM ENEMY_ID
#DIM CHARA_ID
;LOCAL
;1	命中率

CALL PRINT_MESSAGE(CHARA_ID, 17, TFLAG:99, CALLNAME:CHARA_ID, SAVESTR:ENEMY_ID, CHARA_ID)

;今回の戦闘中限定で、最大HPを超えて回復可能
IF CFLAG:CHARA_ID:35
	IF FLAG:4 == 3
		DA:ENEMY_ID:1 += DA:ENEMY_ID:2 / 4
	ELSE
		DA:ENEMY_ID:1 += LIMIT(DA:ENEMY_ID:2 / 5, 0, 10000)
	ENDIF
ELSE
	IF FLAG:4 == 3
		DA:ENEMY_ID:1 += DA:ENEMY_ID:2 / 10
	ELSE
		DA:ENEMY_ID:1 += LIMIT(DA:ENEMY_ID:2 / 10, 0, 5000)
	ENDIF
ENDIF

