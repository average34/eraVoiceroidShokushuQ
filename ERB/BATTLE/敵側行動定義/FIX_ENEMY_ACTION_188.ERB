@FIX_ENEMY_ACTION_188(ENEMY_ID)
#DIM ENEMY_ID

TFLAG:52 = ENEMY_ID
TFLAG:54 = DA:ENEMY_ID:51
TFLAG:55 = 1
TFLAG:60 = 1

TFLAG:57 = DA:ENEMY_ID:5

TFLAG:58 = 90
TFLAG:61 = 65

TFLAG:64 = 0
TFLAG:89 = 7
TFLAG:99 = 188

CALL ACTION_FILTER(-1, 2, 188, CALLNAME:(TFLAG:54), SAVESTR:ENEMY_ID, TFLAG:54)


@EXTRA_ACTION_188(ENEMY_ID, CHARA_ID)
#DIM ENEMY_ID
#DIM CHARA_ID
;LOCAL
;1	命中率

LOCAL:1 = 60

IF FLAG:507 == 0
	RETURN
ENDIF

IF CFLAG:CHARA_ID:203 > 16
	CALL PRINT_MESSAGE(CHARA_ID, 27, TFLAG:99, CALLNAME:CHARA_ID, SAVESTR:ENEMY_ID, CHARA_ID)
ELSEIF RAND:100 < LOCAL:1
	CALL PRINT_MESSAGE(CHARA_ID, 17, TFLAG:99, CALLNAME:CHARA_ID, SAVESTR:ENEMY_ID, CHARA_ID)
	CFLAG:CHARA_ID:203 = MAX(CFLAG:CHARA_ID:203, 15)
ELSE
	CALL PRINT_MESSAGE(CHARA_ID, 27, TFLAG:99, CALLNAME:CHARA_ID, SAVESTR:ENEMY_ID, CHARA_ID)
ENDIF

