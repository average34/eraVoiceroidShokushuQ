;敵の攻撃のデータ部分とメッセージ部分を分離して、敵の攻撃の種類によって変更をかけるための関数

;ARG:0～	すべてメッセージ呼び出しのためFIX_ENEMY_ACTION_XXから保存してきたもの
;TFLAG:52	攻撃しているENEMYのID

;FIX_ENEMY_ACTION_XX からデータを持ってくる

@ACTION_FILTER(ARG:0, ARG:1, ARG:2, ARGS:0, ARGS:1, ARG:3, ARG:4, ARG:5, ARG:6, ARG:7)


;通常攻撃を肌責めにして暴力描写更に減少
IF TFLAG:55 == 1 && (FLAG:591 & 1)
	IF RAND:3 == 0
		;攻撃番号992
		TFLAG:54 = DA:(TFLAG:52):51
		TFLAG:55 = 3
		TFLAG:60 = 1

		TFLAG:57 = DA:(TFLAG:52):5

		TFLAG:58 = 60
		TFLAG:61 = 150

		TFLAG:64 = 0
		TFLAG:65 = 0

		TFLAG:59 = 0
		TFLAG:90 = 80
		TFLAG:91 = 0
		TFLAG:92 = 0

		TFLAG:63 = 5

		;ARG:0 ARGS:0 ARGS:1 ARG:3 ARG:4 はこの場で代入しなくて良いので他を入れ替わった攻撃に合わせる
		ARG:1 = 4
		ARG:2 = 992
		ARG:5 = 0
		ARG:6 = 0
		ARG:7 = 0
		
		;コマンド番号を置き換え後のものに
		TFLAG:50 = 992

	ELSEIF RAND:2 == 0
		;攻撃番号994
		TFLAG:54 = DA:(TFLAG:52):51
		TFLAG:55 = 3
		TFLAG:60 = 1

		TFLAG:57 = DA:(TFLAG:52):5

		TFLAG:58 = 75
		TFLAG:61 = 140

		TFLAG:64 = 0
		TFLAG:65 = 0

		TFLAG:59 = 0
		TFLAG:90 = 120
		TFLAG:91 = 0
		TFLAG:92 = 0

		TFLAG:63 = 5

		;ARG:0 ARGS:0 ARGS:1 ARG:3 ARG:4 はこの場で代入しなくて良いので他を入れ替わった攻撃に合わせる
		ARG:1 = 4
		ARG:2 = 994
		ARG:5 = 0
		ARG:6 = 0
		ARG:7 = 0
		
		;コマンド番号を置き換え後のものに
		TFLAG:50 = 994

	ELSE
		;攻撃番号998
		TFLAG:54 = DA:(TFLAG:52):51
		TFLAG:55 = 3
		TFLAG:60 = 1

		TFLAG:57 = DA:(TFLAG:52):5

		TFLAG:58 = 60
		TFLAG:61 = 130

		TFLAG:64 = 0
		TFLAG:65 = 0

		TFLAG:59 = 0
		TFLAG:90 = 70
		TFLAG:91 = 0
		TFLAG:92 = 0

		TFLAG:63 = 5

		;ARG:0 ARGS:0 ARGS:1 ARG:3 ARG:4 はこの場で代入しなくて良いので他を入れ替わった攻撃に合わせる
		ARG:1 = 4
		ARG:2 = 998
		ARG:5 = 0
		ARG:6 = 0
		ARG:7 = 0
		
		;コマンド番号を置き換え後のものに
		TFLAG:50 = 998

	ENDIF
ENDIF

;V→Aにして処女男の娘向け
IF (TFLAG:63 == 3 || (TFLAG:92 & 8)) && (FLAG:591 & 2)
	;寄生
	IF TFLAG:55 == 5
		;攻撃番号1000
		TFLAG:54 = DA:(TFLAG:52):51
		TFLAG:55 = 5
		TFLAG:60 = 1

		TFLAG:57 = DA:(TFLAG:52):5

		TFLAG:58 = 1000 / TFLAG:57 + 20
		TFLAG:61 = 140

		TFLAG:64 = 0
		TFLAG:65 = 20

		TFLAG:91 = 0
		TFLAG:93 = 0

		TFLAG:63 = 0

		;ARG:0 ARGS:0 ARGS:1 ARG:3 ARG:4 はこの場で代入しなくて良いので他を入れ替わった攻撃に合わせる
		ARG:1 = 6
		ARG:2 = 1000
		ARG:5 = 0
		ARG:6 = 0
		ARG:7 = 0
		
		;コマンド番号を置き換え後のものに
		TFLAG:50 = 1000

	ENDIF
	
	;性攻撃
	IF TFLAG:55 == 3 && RAND:3 == 0
		;攻撃番号602
		TFLAG:54 = DA:(TFLAG:52):51
		TFLAG:55 = 3
		TFLAG:60 = 1

		TFLAG:57 = DA:(TFLAG:52):5

		TFLAG:58 = 10000 / TFLAG:57 + 150
		TFLAG:61 = 150

		TFLAG:64 = 15
		TFLAG:65 = 50
		TFLAG:90 = 500

		TFLAG:59 = 0
		TFLAG:91 = 0
		TFLAG:92 = 0
		TFLAG:99 = 0

		TFLAG:63 = 0

		;ARG:0 ARGS:0 ARGS:1 ARG:3 ARG:4 はこの場で代入しなくて良いので他を入れ替わった攻撃に合わせる
		ARG:1 = 4
		ARG:2 = 602
		ARG:5 = 0
		ARG:6 = 0
		ARG:7 = 0
		
		;コマンド番号を置き換え後のものに
		TFLAG:50 = 602


	ELSEIF TFLAG:55 == 3 && RAND:2 == 0
		;攻撃番号617
		TFLAG:54 = DA:(TFLAG:52):51
		TFLAG:55 = 3
		TFLAG:60 = 1

		TFLAG:57 = DA:(TFLAG:52):5

		TFLAG:58 = 10000 / TFLAG:57 + 150
		TFLAG:61 = 150

		TFLAG:64 = 15
		TFLAG:65 = 50
		TFLAG:90 = 500

		TFLAG:59 = 0
		TFLAG:91 = 0
		TFLAG:92 = 0
		TFLAG:99 = 0

		TFLAG:63 = 0

		;ARG:0 ARGS:0 ARGS:1 ARG:3 ARG:4 はこの場で代入しなくて良いので他を入れ替わった攻撃に合わせる
		ARG:1 = 4
		ARG:2 = 617
		ARG:5 = 0
		ARG:6 = 0
		ARG:7 = 0
		
		;コマンド番号を置き換え後のものに
		TFLAG:50 = 617

	ELSEIF TFLAG:55 == 3
		;攻撃番号738
		TFLAG:54 = DA:(TFLAG:52):51
		TFLAG:55 = 3
		TFLAG:60 = 1

		TFLAG:57 = DA:(TFLAG:52):5

		TFLAG:58 = 10000 / TFLAG:57 + 200
		TFLAG:61 = 140

		TFLAG:64 = 300
		TFLAG:65 = 50
		TFLAG:90 = 500

		TFLAG:59 = 0
		TFLAG:91 = 1
		TFLAG:99 = 0

		TFLAG:63 = 0

		;ARG:0 ARGS:0 ARGS:1 ARG:3 ARG:4 はこの場で代入しなくて良いので他を入れ替わった攻撃に合わせる
		ARG:1 = 4
		ARG:2 = 738
		ARG:5 = 0
		ARG:6 = 0
		ARG:7 = 0
		
		;コマンド番号を置き換え後のものに
		TFLAG:50 = 738

	ENDIF
ENDIF

;A→Vにしてアナル排除
IF (TFLAG:63 == 0 || (TFLAG:92 & 1)) && (FLAG:591 & 4)
	;寄生
	IF TFLAG:55 == 5 && RAND:2 == 0
		;攻撃番号841
		TFLAG:54 = DA:(TFLAG:52):51
		TFLAG:55 = 5
		TFLAG:60 = 1

		TFLAG:57 = DA:(TFLAG:52):5

		TFLAG:58 = 1000 / TFLAG:57 + 50
		TFLAG:61 = 150

		TFLAG:64 = 0
		TFLAG:65 = 100

		TFLAG:91 = 0
		TFLAG:93 = 0

		TFLAG:63 = 3

		;ARG:0 ARGS:0 ARGS:1 ARG:3 ARG:4 はこの場で代入しなくて良いので他を入れ替わった攻撃に合わせる
		;ARG:5 はTFLAG:63
		ARG:1 = 6
		ARG:2 = 841

		ARG:6 = 0
		ARG:7 = 0
		
		;コマンド番号を置き換え後のものに
		TFLAG:50 = 841

	ELSEIF TFLAG:55 == 5
		;攻撃番号863
		
		TFLAG:54 = DA:(TFLAG:52):51
		TFLAG:55 = 5
		TFLAG:60 = 1

		TFLAG:57 = DA:(TFLAG:52):5

		TFLAG:58 = 1000 / TFLAG:57 + 10
		TFLAG:61 = 160

		TFLAG:64 = 0
		TFLAG:65 = 15

		TFLAG:91 = 0
		TFLAG:93 = 0

		TFLAG:63 = 3

		;ARG:0 ARGS:0 ARGS:1 ARG:3 ARG:4 はこの場で代入しなくて良いので他を入れ替わった攻撃に合わせる
		ARG:1 = 6
		ARG:2 = 863
		ARG:5 = 0
		ARG:6 = 0
		ARG:7 = 0
		
		;コマンド番号を置き換え後のものに
		TFLAG:50 = 863

	ENDIF
	
	;性攻撃
	IF TFLAG:55 == 3 && RAND:3 == 0
		;攻撃番号605
		TFLAG:54 = DA:(TFLAG:52):51
		TFLAG:55 = 3
		TFLAG:60 = 1

		TFLAG:57 = DA:(TFLAG:52):5

		TFLAG:58 = 10000 / TFLAG:57 + 200
		TFLAG:61 = 150

		TFLAG:64 = 15
		TFLAG:65 = 50
		TFLAG:90 = 500

		TFLAG:59 = 0
		TFLAG:91 = 0
		TFLAG:92 = 0
		TFLAG:99 = 0

		TFLAG:63 = 3

		;ARG:0 ARGS:0 ARGS:1 ARG:3 ARG:4 はこの場で代入しなくて良いので他を入れ替わった攻撃に合わせる
		ARG:1 = 4
		ARG:2 = 605
		ARG:5 = 0
		ARG:6 = 0
		ARG:7 = 0
		
		;コマンド番号を置き換え後のものに
		TFLAG:50 = 605

	ELSEIF TFLAG:55 == 3 && RAND:2 == 0
		;攻撃番号614
		TFLAG:54 = DA:(TFLAG:52):51
		TFLAG:55 = 3
		TFLAG:60 = 1

		TFLAG:57 = DA:(TFLAG:52):5

		TFLAG:58 = 10000 / TFLAG:57 + 150
		TFLAG:61 = 150

		TFLAG:64 = 15
		TFLAG:65 = 50
		TFLAG:90 = 500

		TFLAG:59 = 0
		TFLAG:91 = 0
		TFLAG:92 = 0
		TFLAG:99 = 0

		TFLAG:63 = 3

		;ARG:0 ARGS:0 ARGS:1 ARG:3 ARG:4 はこの場で代入しなくて良いので他を入れ替わった攻撃に合わせる
		ARG:1 = 4
		ARG:2 = 614
		ARG:5 = 0
		ARG:6 = 0
		ARG:7 = 0
		
		;コマンド番号を置き換え後のものに
		TFLAG:50 = 614

	ELSEIF TFLAG:55 == 3
		;攻撃番号736に変更
		TFLAG:54 = DA:(TFLAG:52):51
		TFLAG:55 = 3
		TFLAG:60 = 1

		TFLAG:57 = DA:(TFLAG:52):5

		TFLAG:58 = 10000 / TFLAG:57 + 180
		TFLAG:61 = 140

		TFLAG:64 = 150
		TFLAG:65 = 50
		TFLAG:90 = 500

		TFLAG:59 = 0
		TFLAG:91 = 0
		TFLAG:92 = 0
		TFLAG:99 = 0

		TFLAG:63 = 3

		;ARG:0 ARGS:0 ARGS:1 ARG:3 ARG:4 はこの場で代入しなくて良いので他を入れ替わった攻撃に合わせる
		ARG:1 = 4
		ARG:2 = 736
		ARG:5 = 0
		ARG:6 = 0
		ARG:7 = 0
		
		;コマンド番号を置き換え後のものに
		TFLAG:50 = 736

	ENDIF
ENDIF





CALL PRINT_MESSAGE(ARG:0, ARG:1,  ARG:2, ARGS:0, ARGS:1, ARG:3, ARG:4, ARG:5, ARG:6, ARG:7)
