
@FIX_PT_ACTION_60(CHARA_ID)
#DIM CHARA_ID
CALL USE_ACCESSARY(CHARA_ID, 0)

;使う
;CHARA_ID	実行キャラ
;EQUIP_NO	0なら装備品１　1なら装備品２
@USE_ACCESSARY(CHARA_ID, EQUIP_NO)
#DIM CHARA_ID
#DIM EQUIP_NO
;LOCAL:0	アイテムID
LOCAL:0 = CFLAG:CHARA_ID:(7+EQUIP_NO)

CALL PRINT_MESSAGE(CHARA_ID, 1, 60, CALLNAME:CHARA_ID, ITEMNAME:(LOCAL:0), LOCAL:0, 1)

SELECTCASE LOCAL:0
	CASE 20 TO 23
		TFLAG:51 = CHARA_ID
		TFLAG:53 = CFLAG:CHARA_ID:51
		TFLAG:55 = 0
		TFLAG:56 = 1
		TFLAG:57 = 0
		SIF LOCAL:0 == 20
			TFLAG:57 += 200
		SIF LOCAL:0 == 21
			TFLAG:57 += 400
		SIF LOCAL:0 == 22
			TFLAG:57 += 800
		SIF LOCAL:0 == 23
			TFLAG:57 += 1200
		TFLAG:58 = 50
		TFLAG:61 = 100

		TFLAG:68 = 120
	CASE 24
		TFLAG:12 = 1
	CASE 25
		TFLAG:51 = CHARA_ID
		TFLAG:54 = CHARA_ID
		TFLAG:55 = 6
		TFLAG:99 = 1
	CASE 26
		;何もなし
	CASE 28
		FLAG:(FLAG:5 + 50) -= 15
		SIF FLAG:(FLAG:5 + 50) < 0
			FLAG:(FLAG:5 + 50) = 0
	CASE 32, 36
		;何もなし
	CASE 40
		SIF !CFLAG:1:43
			CALL SET_HYPNO_TYPE(1)
		CFLAG:1:43 = 3
		IF FLAG:10
			SIF !CFLAG:(FLAG:10):43
				CALL SET_HYPNO_TYPE(FLAG:10)
			CFLAG:(FLAG:10):43 = 3
		ENDIF
		IF FLAG:11
			SIF !CFLAG:(FLAG:11):43
				CALL SET_HYPNO_TYPE(FLAG:11)
			CFLAG:(FLAG:11):43 = 3
		ENDIF
	CASEELSE

ENDSELECT

