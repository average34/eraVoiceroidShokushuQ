;抱きつかれ
;CHARA_ID	実行キャラ
@FIX_PT_ACTION_95(CHARA_ID)
#DIM CHARA_ID

;全部こちらで処理するのでメイン処理不要
TFLAG:66 = 1

IF CFLAG:1:50 == 96
	LOCAL:0 = 1
ELSEIF CFLAG:(FLAG:10):50 == 96
	LOCAL:0 = FLAG:10
ELSEIF CFLAG:(FLAG:11):50 == 96
	LOCAL:0 = FLAG:11
ELSE
	CFLAG:CHARA_ID:52 = 0
	CFLAG:(LOCAL:0):52 = 0
ENDIF

IF CFLAG:CHARA_ID:20 || CFLAG:CHARA_ID:21 || LOCAL:0 == 0
	CFLAG:CHARA_ID:52 = 0
	CFLAG:(LOCAL:0):52 = 0
ELSEIF CFLAG:(LOCAL:0):20 || CFLAG:(LOCAL:0):21 || CFLAG:(LOCAL:0):29 || CFLAG:(LOCAL:0):28 == 0
	CFLAG:CHARA_ID:52 = 0
	CFLAG:(LOCAL:0):52 = 0
	CALL PRINT_MESSAGE(CHARA_ID, 1, 95, CALLNAME:CHARA_ID, CALLNAME:(LOCAL:0), LOCAL:0, 2)

ELSEIF CFLAG:CHARA_ID:28 <= 0 && RAND:10 >= CFLAG:(LOCAL:0):28 + 5
	;追加解放条件
	CFLAG:CHARA_ID:52 = 0
	CFLAG:(LOCAL:0):52 = 0
	CALL PRINT_MESSAGE(CHARA_ID, 1, 95, CALLNAME:CHARA_ID, CALLNAME:(LOCAL:0), LOCAL:0, 1)
ELSE
	CFLAG:CHARA_ID:52 = 95
	CALL PRINT_MESSAGE(CHARA_ID, 1, 95, CALLNAME:CHARA_ID, CALLNAME:(LOCAL:0), LOCAL:0, 0)
ENDIF
