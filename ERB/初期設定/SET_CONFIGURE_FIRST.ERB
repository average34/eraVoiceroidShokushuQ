;-------------------------------------------------
;イベント設定開始時用
;複数同時に選べる
;-------------------------------------------------
@CONFIGURE_FIRST_TALENT
#DIM DEL_LINE
#DIM LCOUNT
#DIM CONF_BIT
;CONF_BIT	設定用BIT変数
;LOCAL:1	LOOP
REDRAW 0
DRAWLINE

PRINTL <-/-> 全キャラ共通設定  
PRINTFORM (選択時は
SETCOLOR 0x9999FF
PRINTFORML 青字)
RESETCOLOR
PRINTL
CONF_BIT = 0
;グローバルセーブしているがクイックスタートしていないとここに来ない+ここに来たなら設定し直すだろうということでフラグリセット
	FLAG:545 = 0
	FLAG:546 = 0
	FLAG:547 = 0
	FLAG:548 = 0
;胸の大きさ
	$START
	DEL_LINE = LINECOUNT
	IF FLAG:521 == 0
		PRINTFORML ■ 全キャラを爆乳化させることができます
		SIF GETBIT(CONF_BIT, 0)
			SETCOLOR 0x9999FF
		PRINTFORML [0] 触手のせいで全員爆乳になっている
		RESETCOLOR
		SIF GETBIT(CONF_BIT, 1)
			SETCOLOR 0x9999FF
		PRINTFORML [1] 触手のせいで全員爆乳の母乳体質になっている
		RESETCOLOR
	ENDIF
	PRINTFORML
;ふたなり
	PRINTFORML ■ 全キャラをふたなり化させることができます
	IF FLAG:520 == 1
		SIF GETBIT(CONF_BIT, 2)
			SETCOLOR 0x9999FF
		PRINTFORML [2] すでに全員寄生されてます
		RESETCOLOR
		SIF GETBIT(CONF_BIT, 3)
			SETCOLOR 0x9999FF
		PRINTFORML [3] ここに迷いこむ前から全員生えていました
		RESETCOLOR
	ELSEIF FLAG:520 == 2
		SIF GETBIT(CONF_BIT, 2)
			SETCOLOR 0x9999FF
		PRINTFORML [2] 主人公は寄生されています
		RESETCOLOR
		SIF GETBIT(CONF_BIT, 3)
			SETCOLOR 0x9999FF
		PRINTFORML [3] ここに迷いこむ前から主人公には生えていました
		RESETCOLOR
	ELSEIF FLAG:520 == 3
		SIF GETBIT(CONF_BIT, 2)
			SETCOLOR 0x9999FF
		PRINTFORML [2] 主人公以外はすでに寄生されています
		RESETCOLOR
		SIF GETBIT(CONF_BIT, 3)
			SETCOLOR 0x9999FF
		PRINTFORML [3] ここに迷いこむ前から主人公以外の全員に生えていました
		RESETCOLOR
	ENDIF
	SIF GETBIT(CONF_BIT, 4)
		SETCOLOR 0x9999FF
	PRINTFORML [4] 生えていたり生えていなかったりします
	RESETCOLOR
	PRINTFORML
	PRINTFORML ■ 全キャラの体質を変化させることができます (複数選択可)
	SIF GETBIT(CONF_BIT, 5)
		SETCOLOR 0x9999FF
	PRINTFORML [5] 全キャラを全部位異常過敏にする
	RESETCOLOR
	SIF GETBIT(CONF_BIT, 6)
		SETCOLOR 0x9999FF
	PRINTFORML [6] 全キャラを小柄体型にする
	RESETCOLOR
	PRINTFORML 
	PRINTFORML [101] 決定
	$INPUT_LOOP
	INPUT
	
	;CHARA_INITIALIZE_2で設定するのでフラグを立てるだけ

	IF RESULT == 0
		INVERTBIT CONF_BIT, 0
		CLEARBIT CONF_BIT, 1
	ELSEIF RESULT == 1
		CLEARBIT CONF_BIT, 0
		INVERTBIT CONF_BIT, 1
	ELSEIF RESULT == 2
		INVERTBIT CONF_BIT, 2
		CLEARBIT CONF_BIT, 3
		CLEARBIT CONF_BIT, 4
	ELSEIF RESULT == 3
		CLEARBIT CONF_BIT, 2
		INVERTBIT CONF_BIT, 3
		CLEARBIT CONF_BIT, 4
	ELSEIF RESULT == 4
		CLEARBIT CONF_BIT, 2
		CLEARBIT CONF_BIT, 3
		INVERTBIT CONF_BIT, 4
	ELSEIF RESULT == 5
		INVERTBIT CONF_BIT, 5
	ELSEIF RESULT == 6
		INVERTBIT CONF_BIT, 6
	ELSEIF RESULT == 101
	ELSE
		REUSELASTLINE 入力が不正です！
		CLEARLINE 1
		GOTO INPUT_LOOP
	ENDIF
	
	SIF GETBIT(CONF_BIT, 0)
		FLAG:545 = 1
	SIF GETBIT(CONF_BIT, 1)
		FLAG:545 = 2
	SIF GETBIT(CONF_BIT, 2)
		FLAG:546 = 1
	SIF GETBIT(CONF_BIT, 3)
		FLAG:546 = 2
	SIF GETBIT(CONF_BIT, 4)
		FLAG:546 = 3
	SIF GETBIT(CONF_BIT, 5)
		FLAG:547 = 1
	SIF GETBIT(CONF_BIT, 6)
		FLAG:548 = 1
	IF RESULT != 101
		CLEARLINE LINECOUNT - DEL_LINE
		GOTO START
	ENDIF



;メッセージ表示など操作性の変更
@CONFIGURE_FIRST_1
#DIM DEL_LINE

DRAWLINE
PRINTL <1/3> メッセージ表示など操作性の変更  
PRINTFORM (選択時は
SETCOLOR 0x9999FF
PRINTFORML 青字)
RESETCOLOR

$START
DEL_LINE = LINECOUNT
PRINTFORML 
PRINTFORML ■ 行動時に表示される経験値獲得メッセージの表示・非表示を切り替えます
SIF FLAG:501 == 0
	SETCOLOR 0x9999FF
PRINTFORM [1] %"表示する",12,LEFT%
RESETCOLOR
SIF FLAG:501 == 1
	SETCOLOR 0x9999FF
PRINTFORM [2] %"表示しない",12,LEFT%
RESETCOLOR
PRINTFORML 
PRINTFORML 
PRINTFORML ■ 戦闘中のメッセージ表示を高速にするかどうか設定できます
SIF FLAG:504 == 0
	SETCOLOR 0x9999FF
PRINTFORM [3] %"通常",12,LEFT%
RESETCOLOR
SIF FLAG:504 == 1
	SETCOLOR 0x9999FF
PRINTFORM [4] %"高速表示",12,LEFT%※入力待ちの回数が減ります
RESETCOLOR
PRINTFORML 
PRINTFORML 
PRINTFORML ■ 対象が１体しか存在しない場合、戦闘コマンドの対象確認を省略するかどうか設定できます
SIF FLAG:505 == 0
	SETCOLOR 0x9999FF
PRINTFORM [5] %"省略しない",12,LEFT%
RESETCOLOR
SIF FLAG:505 == 1
	SETCOLOR 0x9999FF
PRINTFORM [6] %"省略する",12,LEFT%
RESETCOLOR
PRINTFORML 
PRINTFORML 
PRINTFORML ■ エネミーの外見を省略しますか？？
SIF FLAG:513 == 0
	SETCOLOR 0x9999FF
PRINTFORM [7] %"省略しない",12,LEFT%
RESETCOLOR
SIF FLAG:513 == 1
	SETCOLOR 0x9999FF
PRINTFORM [8] %"省略する",12,LEFT%
RESETCOLOR
PRINTFORML 
PRINTFORML ■ アニメーションのループ数を変更しますか？（もっと大幅に変更したい場合はゲーム開始後にコンフィグへ）
SIF FLAG:597 == 0
	SETCOLOR 0x9999FF
PRINTFORM     %"変更する場合ループ数として10～99の数字を入力",12,LEFT%
RESETCOLOR
SIF FLAG:597
	SETCOLOR 0x9999FF
PRINTFORM [9] %"デフォルト",12,LEFT%
RESETCOLOR
PRINTFORML 
PRINTFORML
SETCOLOR 0x444444 
PRINTPLAINFORM %"[100] 前へ",16,LEFT%
RESETCOLOR
PRINTFORML %"[101] 次へ",16,LEFT%
$INPUT_LOOP
INPUT
;1～4

IF RESULT >= 1 && RESULT <= 2
	FLAG:501 = RESULT - 1
;	PRINTFORMW 経験値獲得メッセージについて設定しました
ELSEIF RESULT >= 3 && RESULT <= 4
	FLAG:504 = RESULT - 3
;	PRINTFORMW 戦闘中のメッセージ表示について設定しました
ELSEIF RESULT >= 5 && RESULT <= 6
	FLAG:505 = RESULT - 5
;	PRINTFORMW コマンドの省略について設定しました
ELSEIF RESULT >= 7 && RESULT <= 8
	FLAG:513 = RESULT - 7
;	PRINTFORMW エネミーの外見について設定しました
ELSEIF RESULT == 9
	FLAG:597 = 0
ELSEIF RESULT >= 10 && RESULT <= 99
	FLAG:597 = RESULT
ELSEIF RESULT == 101
ELSE
	REUSELASTLINE 入力が不正です！
	CLEARLINE 1
	GOTO INPUT_LOOP
ENDIF

IF RESULT != 101
	CLEARLINE LINECOUNT - DEL_LINE
	GOTO START
ENDIF

CALL CONFIGURE_FIRST_2

;-------------------------------------------------
;性癖のコンフィグ
@CONFIGURE_FIRST_2
#DIM DEL_LINE

DRAWLINE
PRINTL <2/3> 性癖について -１-  
PRINTFORM (選択時は
SETCOLOR 0x9999FF
PRINTFORML 青字)
RESETCOLOR

$START
DEL_LINE = LINECOUNT
PRINTFORML 
PRINTFORML ■ 触手寄生によるふたなり化イベントの有無を切り替えます
SIF FLAG:520 == 0
	SETCOLOR 0x9999FF
PRINTFORML [1] 寄生されたとはいえふたなりはちょっと……
RESETCOLOR
SIF FLAG:520 == 1
	SETCOLOR 0x9999FF
PRINTFORML [2] 難易度が上昇しようと大好物なのでかまわない
RESETCOLOR
SIF FLAG:520 == 2
	SETCOLOR 0x9999FF
PRINTFORML [3] 主人公だけに太くたくましいものを生やしてNPCに突き込みたい！
RESETCOLOR
SIF FLAG:520 == 3
	SETCOLOR 0x9999FF
PRINTFORML [4] むしろ主人公だけ生えないせいで性欲処理係になる方が……
RESETCOLOR
PRINTFORML 
PRINTFORML ■ 妊娠時の胸の成長
SIF FLAG:521 == 0
	SETCOLOR 0x9999FF
PRINTFORML [5] 大きいって素晴らしい
RESETCOLOR
SIF FLAG:521 == 1
	SETCOLOR 0x9999FF
PRINTFORML [6] 小さいままのほうが愛せる
RESETCOLOR
SIF FLAG:521 == 2
	SETCOLOR 0x9999FF
PRINTFORML [7] 大きいのは好きだけど奇形はちょっと……
RESETCOLOR
PRINTFORML 
PRINTFORML ■ 絶頂した少女から滴り落ちる液体は？
SIF FLAG:522 == 0
	SETCOLOR 0x9999FF
PRINTFORML [8] 透明で粘性のある愛液
RESETCOLOR
SIF FLAG:522 == 1
	SETCOLOR 0x9999FF
PRINTFORML [9] 少し匂いのする黄金水
RESETCOLOR
SIF FLAG:522 == 2
	SETCOLOR 0x9999FF
PRINTFORML [10] ただの汗
RESETCOLOR
PRINTFORML 
PRINTFORML ■ EPダメージ上限を設定しますか？
SIF FLAG:539 == 0
	SETCOLOR 0x9999FF
PRINTFORML [11] 上限開放
RESETCOLOR
SIF FLAG:539 == 1
	SETCOLOR 0x9999FF
PRINTFORML [12] 上限設定
RESETCOLOR
PRINTFORML 
PRINTFORML ■ 妊娠・寄生にフィルターをかけて媚薬爆弾で代用しますか？
SIF FLAG:515 == 0
	SETCOLOR 0x9999FF
PRINTFORML [13] 妊娠・寄生あり
RESETCOLOR
SIF FLAG:515 == 1
	SETCOLOR 0x9999FF
PRINTFORML [14] 妊娠・寄生が苦手なので媚薬爆弾で代用する
RESETCOLOR
SIF FLAG:515 == 2
	SETCOLOR 0x9999FF
PRINTFORML [15] 妊娠も寄生も媚薬爆弾も全部ありにする
RESETCOLOR

PRINTFORML 
PRINTFORM %"[100] 前へ",16,LEFT%
PRINTFORML %"[101] 次へ",16,LEFT%
$INPUT_LOOP
INPUT
IF RESULT >= 1 && RESULT <= 4
	FLAG:520 = RESULT - 1
;	PRINTFORMW ふたなりについて設定しました
ELSEIF RESULT >= 5 && RESULT <= 7
	FLAG:521 = RESULT - 5
;	PRINTFORMW 胸の成長について設定しました
ELSEIF RESULT >= 8 && RESULT <= 10
	FLAG:522 = RESULT - 8
;	PRINTFORMW 尿意について設定しました
ELSEIF RESULT >= 11 && RESULT <= 12
	FLAG:539 = RESULT - 11
;	PRINTFORMW EPダメージ上限について設定しました
ELSEIF RESULT >= 13 && RESULT <= 15
	FLAG:515 = RESULT - 13
;	PRINTFORMW 妊娠寄生について設定しました
ELSEIF RESULT == 100
ELSEIF RESULT == 101
ELSE
	REUSELASTLINE 入力が不正です！
	CLEARLINE 1
	GOTO INPUT_LOOP
ENDIF

SELECTCASE RESULT
	CASE 100
		CALL CONFIGURE_FIRST_1
	CASE 101
		CALL CONFIGURE_FIRST_3
	CASEELSE
		CLEARLINE LINECOUNT - DEL_LINE
		GOTO START
ENDSELECT
;-------------------------------------------------
@CONFIGURE_FIRST_3
#DIM DEL_LINE

DRAWLINE
PRINTL <3/3> 性癖について -２-  
PRINTFORM (選択時は
SETCOLOR 0x9999FF
PRINTFORML 青字)
RESETCOLOR

$START
DEL_LINE = LINECOUNT
PRINTFORML 
PRINTFORML ■ 服を着たまま触手と戯れたいですか？
SIF FLAG:529 == 0
	SETCOLOR 0x9999FF
PRINTFORML [1] どちらでもいい
RESETCOLOR
SIF FLAG:529 == 1
	SETCOLOR 0x9999FF
PRINTFORML [2] 着衣プレイ最高
RESETCOLOR
PRINTFORML 
PRINTFORML ■ 陥没乳首について
SIF FLAG:531 == 0
	SETCOLOR 0x9999FF
PRINTFORML [3] 全員普通
RESETCOLOR
SIF FLAG:531 == 1
	SETCOLOR 0x9999FF
PRINTFORML [4] 全員陥没乳首
RESETCOLOR
SIF FLAG:531 == 2
	SETCOLOR 0x9999FF
PRINTFORML [5] 何人か隠れ陥没乳首
RESETCOLOR
PRINTFORML 
PRINTFORML ■ 産卵描写を行いますか？
SIF FLAG:533 == 0
	SETCOLOR 0x9999FF
PRINTFORML [6] 産卵はちょっと……
RESETCOLOR
SIF FLAG:533 == 1
	SETCOLOR 0x9999FF
PRINTFORML [7] むしろ産ませたい
RESETCOLOR
PRINTFORML 
PRINTFORML ■ 卵巣の苗床化を進めますか？
SIF FLAG:535 == 0
	SETCOLOR 0x9999FF
PRINTFORML [8] さすがにそこまでは……
RESETCOLOR
SIF FLAG:535 == 1
	SETCOLOR 0x9999FF
PRINTFORML [9] 進める
RESETCOLOR
PRINTFORML 
PRINTFORML ■ 悪堕ちする少女を見たいですか？　※EXモードでは選択に関わらず無効です
SIF FLAG:538 == 0
	SETCOLOR 0x9999FF
PRINTFORML [10] 見たくない
RESETCOLOR
SIF FLAG:538 == 1
	SETCOLOR 0x9999FF
PRINTFORML [11] まあ敵に回るだけなら……
RESETCOLOR
SIF FLAG:538 == 2
	SETCOLOR 0x9999FF
PRINTFORML [12] 体を作り替えられるくらいガンガンやって下さい
SIF FLAG:538 == 3
	SETCOLOR 0x9999FF
PRINTFORML [13] 悪堕ち転生だいしゅき！いっぱい見たい！
RESETCOLOR
PRINTFORML 
PRINTFORM %"[100] 前へ",16,LEFT%
PRINTFORML %"[101] 決定",16,LEFT%
$INPUT_LOOP
INPUT
IF RESULT >= 1 && RESULT <= 2
	FLAG:529 = RESULT - 1
;	PRINTFORMW 全裸のなりやすさについて設定しました
ELSEIF RESULT >= 3 && RESULT <= 5
	FLAG:531 = RESULT - 3
;	PRINTFORMW 陥没乳首について設定しました
ELSEIF RESULT >= 6 && RESULT <= 7
	FLAG:533 = RESULT - 6
;	PRINTFORMW 産卵について設定しました
ELSEIF RESULT >= 8 && RESULT <= 9
	FLAG:535 = RESULT - 8
;	PRINTFORMW 卵巣の苗床化について設定しました
ELSEIF RESULT >= 10 && RESULT <= 13
	FLAG:538 = RESULT - 10
;	PRINTFORMW 悪堕ちについて設定しました
ELSEIF RESULT == 100
ELSEIF RESULT == 101
ELSE
	REUSELASTLINE 入力が不正です！
	CLEARLINE 1
	GOTO INPUT_LOOP
ENDIF


SELECTCASE RESULT
	CASE 100
		CALL CONFIGURE_FIRST_2
	CASE 101
	CASEELSE
		CLEARLINE LINECOUNT - DEL_LINE
		GOTO START
ENDSELECT
REDRAW 1
;-------------------------------------------------

;処女男
@CONFIGURE_FIRST_SEX
#DIM LCOUNT

IF FLAG:おすすめ自動選択モード
	RESULT = 0
ELSE
	PRINTFORML 処女・オトコモードの設定を行います。　【処女】の概念を導入しますか？
	PRINTFORML [ 0] 【処女】の処理は行わない
	PRINTFORM [ 1] 【処女】の処理を行う　
	SETCOLOR 0xEEEE10
	PRINTFORML ※難易度が大幅に上昇します
	RESETCOLOR
	PRINTFORML [ 2] 【処女】+　貞操帯モード　※A感度にペナルティが入ります
	PRINTFORML [ 3] 【処女】を個別に設定する
	PRINTFORML 
	PRINTFORML [11] 全員【オトコ】にする
	SETCOLOR 0xEEEE10
	PRINTFORML ※処女やふたなり付加したキャラにオトコは付けられません
	PRINTFORML ※ふたなりオトコは全員ふたなり開始で下記の個別設定をすることで可能です
	RESETCOLOR
	PRINTFORML [12] 【オトコ】【ふたなり】を個別に設定する
	PRINTFORML  [99] 【処女】\@ (FLAG:512 & 2) == 2 ? 【オトコ】 # \@をランダムに決定する
	INPUT
ENDIF
IF RESULT == 1 || RESULT == 2
	FOR LCOUNT, 1, CHARANUM
		;こっそり「あなた」にも処女を付加しておくことで、処女モードかどうかを判断できるようにしておく
		TALENT:(LCOUNT):0 = 1
		
		;貞操帯モードは貞操帯+感度上昇
		IF RESULT == 2
			CFLAG:(LCOUNT):47 = 1
			IF TALENT:(LCOUNT):101 > 0
				TALENT:(LCOUNT):101 += 1
			ENDIF
		ENDIF
	NEXT
	PRINTFORMW 登場キャラ全員に素質【処女】を付加しました
	PRINTFORML 
	FLAG:566 = RESULT
ELSEIF RESULT == 3
	TALENT:0:0 = 1
	$INPUT_LOOP_VIRGIN
	;表示を綺麗にするためLOCAL:5で行数を確認
	LOCAL:5 = 0
	DRAWLINE
	FOR LCOUNT, 0, CHARANUM - 1
		PRINTFORML [{LCOUNT}] %CALLNAME:(LCOUNT + 1),15, LEFT%:\@ TALENT:(LCOUNT + 1):処女 ? ○ # × \@
		LOCAL:5 ++
	NEXT
	DRAWLINE
	PRINTFORML [1000] 設定完了
	INPUT
	LOCAL:5 += 4
	IF RESULT >= 0 && RESULT < CHARANUM - 1
		 INVERTBIT TALENT:(RESULT + 1):処女, 0
		 CLEARLINE LOCAL:5
		 GOTO INPUT_LOOP_VIRGIN
	ELSEIF RESULT == 1000
	ELSE
		CLEARLINE LOCAL:5
		GOTO INPUT_LOOP_VIRGIN
	ENDIF
ELSEIF RESULT == 0
	SIF !FLAG:おすすめ自動選択モード
		PRINTFORMW 【処女】に関する処理をプレイヤーのイメージに委ねます
	PRINTFORML 
	FLAG:566 = RESULT
ELSEIF RESULT == 11
	FLAG:566 = RESULT
	FOR LCOUNT, 1, CHARANUM
		IF TALENT:(LCOUNT):0 == 0 && TALENT:(LCOUNT):121 == 0
			TALENT:(LCOUNT):122 = 1
		ENDIF
	NEXT
	PRINTFORMW 【処女】【ふたなり】のない登場キャラ全員に素質【オトコ】を付加しました
	PRINTFORML 
ELSEIF RESULT == 12
	$INPUT_LOOP
	;表示を綺麗にするためLOCAL:5で行数を確認
	LOCAL:5 = 0
	DRAWLINE
	FOR LCOUNT, 0, CHARANUM - 1
		PRINTFORML [{LCOUNT}] %CALLNAME:(LCOUNT + 1),15, LEFT%:\@ TALENT:(LCOUNT + 1):オトコ ? オトコ #  \@\@ TALENT:(LCOUNT + 1):ふたなり ? ふたなり #  \@
		LOCAL:5 ++
	NEXT
	DRAWLINE
	PRINTFORML [1000] 設定完了
	INPUT
	LOCAL:5 += 4
	IF RESULT >= 0 && RESULT < CHARANUM - 1
		IF TALENT:(RESULT + 1):オトコ == 0 && TALENT:(RESULT + 1):ふたなり == 0
		TALENT:(RESULT + 1):ふたなり = 1
		TALENT:(RESULT + 1):オトコ = 0
		ELSEIF TALENT:(RESULT + 1):オトコ == 0 && TALENT:(RESULT + 1):ふたなり == 1
		TALENT:(RESULT + 1):ふたなり = 0
		TALENT:(RESULT + 1):オトコ = 1
		ELSEIF TALENT:(RESULT + 1):オトコ == 1 && TALENT:(RESULT + 1):ふたなり == 0
		TALENT:(RESULT + 1):ふたなり = 0
		TALENT:(RESULT + 1):オトコ = 0
		ENDIF
		 IF TALENT:(RESULT + 1):0 == 1 && TALENT:(RESULT + 1):オトコ > 0
		 	TALENT:(RESULT + 1):0 = 0
		 ENDIF
		 CLEARLINE LOCAL:5
		 GOTO INPUT_LOOP
	ELSEIF RESULT == 1000
	ELSE
		CLEARLINE LOCAL:5
		GOTO INPUT_LOOP
	ENDIF
ELSEIF RESULT == 99
	FLAG:566 = RESULT
	FOR LCOUNT, 1, CHARANUM
		IF TALENT:(LCOUNT):0 == 0 && RAND:5 && (FLAG:512 & 2) == 2 && TALENT:(LCOUNT):121 == 0
			TALENT:(LCOUNT):122 = 1
		ELSEIF TALENT:(LCOUNT):122 == 0 && RAND:2 == 0
			TALENT:(LCOUNT):0 = 1
		ENDIF
	NEXT
	PRINTFORMW 【処女】\@ (FLAG:512 & 2) == 2 ? 【オトコ】 # \@をランダムに付加しました
	PRINTFORML 
ENDIF
