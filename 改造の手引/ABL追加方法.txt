ABL追加方法　　製作者:まとめの人

素質・ABL・アイテムの追加方法について質問があったので第2弾ABL追加です


開発前に決めること
ABL番号　ABL名　ABLが上がるときの経験値　ABLの効果

～～まずは表示から～～
何はともあれABLを表示させましょう

今回は実例として「ABL15番　奉仕精神」を追加すると仮定します

いじるファイル1　Abl.csv

事前に決めていたABL名を入れます
今回は「15,奉仕精神」を改行して放り込めば終了です


いじるファイル2　exp.csv

こちらは経験値のほうです
他バリアントで珠とABL名が違うのと似たようなものです

「15,屈服経験,」を改行して打ち込んでみましょう
コンマが2つになるのだけ注意してください


いじるファイル3　ABL_15_奉仕精神.ERB

新規作成ファイルです
ABLフォルダの別のやつをコピーして作るといいでしょう
上部@GET_NEED_EXP_XX　は必要経験値を指します
XX部分を作りたいABLのNOに書き換えてください
ABLが「ARG:0」Lvの時に「LOCAL:0」だけ経験値が必要というのを指定している部分なので
数値を変えることで上がりにくい上がりやすいを変更できます

能力値画面で次に必要な経験値を出しているのがここになります

下部の@ADD_ABL_EXP_XX　は実際に経験値を獲得する部分です
XXはABLのNOに(ry
すぐ下のLOCAL:1 = XX　もABLNOに書き換えてください
他素質などで経験値にプラスマイナスをかけるのもここになります

3箇所のXXを直し素質による補正を終わらせればこのファイルは終了です
今回の例だとXXに15を放り込んで素質補正はとりあえず無視します

いじるファイル4　SHOW_ABL_LIST

こちらはステータスフォルダになります
ABLを能力値画面で表示させるのはここが一括処理をしています

下記の2箇所のXXにABLのNOを代入すればOKです

FOR LOCAL:0, 0, XX + 1
~~中略

	IF (LOCAL:0 % 3) == 2 && LOCAL:0 != XX
		;最後以外は３つごとに改行
		PRINTL  
~~後略


軽く解説すると前者は0番からXX番までのABL表示を繰り返しているだけです
ABLが0番から始まっているのでXX+1個のABLが存在しているので
FORを使ってXX+1回繰り返しています
後者はABL番号が最後のもの（追加するABLの番号）の時はラストなので改行処理を別に行なっているというだけです

今回の場合だと
FOR LOCAL:0, 0, 16
~~中略

	IF (LOCAL:0 % 3) == 2 && LOCAL:0 != 15
		;最後以外は３つごとに改行
		PRINTL  
~~後略

としてやってください

以上の4ファイル7箇所を訂正するとステータス画面に新しい素質が表示されているはずです


～～経験値を手に入れる～～
さてここから先は各種素質次第になってしまう部分です

経験値入手関数は以下のようなものがあります

・個人が入手
CALL ADD_ABL_EXP(4, LOCAL:(LOCAL:0), 200 + RAND:200)
()内は左から　経験値の番号（ABLと同じ）, 入手キャラ番号, 獲得経験量　となります

・主人公PTが入手
CALL ADD_ABL_EXP_PT(2, 700)
()内は左から　経験番号,経験獲得量　となります

これらを適切なイベントの時に入手処理を放り込めば終わりです
今回の奉仕精神はふたなりれいぽぅや戦闘中催眠だったら上がるだと思います、多分

他各キャラのcsvにあらかじめ仕込むのも手ですが、経験入手処理は別に入れないと素質でいいやになります


～～効果を決めよう～～
同じく素質次第になる部分です

今回の場合だとれいぽぅされても好感度が下がりにくくなる、催眠中精神が侵されやすくなりMPダメージ上昇とかでしょうか
絶頂経験やおもらし経験のようにフレーバーに近い実際の影響なしもありでしょう


ABLの追加方法については以上になります
